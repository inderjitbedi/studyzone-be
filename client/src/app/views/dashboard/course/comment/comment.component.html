<div class="comment" *ngIf="comment && comment?._id">
    <div class="user-banner">
        <div class="avatar">
            {{(comment.author.fullName)|initials}}
        </div>

        <div class="user">
            <h5 class="name">{{comment.author.fullName | titlecase}} </h5>
            <span class="is-mute ml-auto createdAt">{{comment.createdAt | date:'dd MMM yyyy hh:mm a'}}</span>
            <button class="" mat-icon-button (click)="delete(comment)">
                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15.3749 4.5H2.62488" stroke="#7E7E7E" stroke-width="1.5" stroke-linecap="round" />
                    <path
                        d="M14.125 6.375L13.78 11.5493C13.6473 13.5405 13.5809 14.5361 12.9322 15.1431C12.2834 15.75 11.2856 15.75 9.29001 15.75H8.70999C6.71439 15.75 5.71659 15.75 5.06783 15.1431C4.41907 14.5361 4.3527 13.5405 4.21996 11.5493L3.875 6.375"
                        stroke="#7E7E7E" stroke-width="1.5" stroke-linecap="round" />
                    <path d="M7.125 8.25L7.5 12" stroke="#7E7E7E" stroke-width="1.5" stroke-linecap="round" />
                    <path d="M10.875 8.25L10.5 12" stroke="#7E7E7E" stroke-width="1.5" stroke-linecap="round" />
                    <path
                        d="M4.875 4.5C4.91691 4.5 4.93786 4.5 4.95686 4.49952C5.57444 4.48387 6.11927 4.09118 6.32941 3.51024C6.33588 3.49237 6.3425 3.47249 6.35576 3.43273L6.42857 3.21429C6.49073 3.02781 6.52181 2.93457 6.56304 2.8554C6.72751 2.53955 7.03181 2.32023 7.38346 2.26407C7.4716 2.25 7.56988 2.25 7.76645 2.25H10.2336C10.4301 2.25 10.5284 2.25 10.6165 2.26407C10.9682 2.32023 11.2725 2.53955 11.437 2.8554C11.4782 2.93457 11.5093 3.02781 11.5714 3.21429L11.6442 3.43273C11.6575 3.47244 11.6641 3.49238 11.6706 3.51024C11.8807 4.09118 12.4256 4.48387 13.0431 4.49952C13.0621 4.5 13.0831 4.5 13.125 4.5"
                        stroke="#7E7E7E" stroke-width="1.5" />
                </svg>
            </button>
            <div class="content">
                <div class="flex flex-row ">
                    <p>{{comment.text}}</p>
                    <!-- <button type="submit" mat-raised-button color="primary" class="reply ml-auto">Reply</button> -->
                </div>
                <div class="reply-body comment" *ngFor="let reply of comment.children">
                    <div class="user-banner">
                        <div class="avatar">
                            {{(reply.author.fullName)|initials}}
                        </div>
                        <div class="user">
                            <h5 class="name">{{reply.author.fullName|titlecase}}</h5>
                            <span class="is-mute createdAt ml-auto">{{reply.createdAt|date:
                                'dd MMM yyyy hh:mm a'}}</span>
                            <button  mat-icon-button (click)="delete(reply)">
                                <svg width="18" height="18" viewBox="0 0 18 18" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M15.3749 4.5H2.62488" stroke="#7E7E7E" stroke-width="1.5"
                                        stroke-linecap="round" />
                                    <path
                                        d="M14.125 6.375L13.78 11.5493C13.6473 13.5405 13.5809 14.5361 12.9322 15.1431C12.2834 15.75 11.2856 15.75 9.29001 15.75H8.70999C6.71439 15.75 5.71659 15.75 5.06783 15.1431C4.41907 14.5361 4.3527 13.5405 4.21996 11.5493L3.875 6.375"
                                        stroke="#7E7E7E" stroke-width="1.5" stroke-linecap="round" />
                                    <path d="M7.125 8.25L7.5 12" stroke="#7E7E7E" stroke-width="1.5"
                                        stroke-linecap="round" />
                                    <path d="M10.875 8.25L10.5 12" stroke="#7E7E7E" stroke-width="1.5"
                                        stroke-linecap="round" />
                                    <path
                                        d="M4.875 4.5C4.91691 4.5 4.93786 4.5 4.95686 4.49952C5.57444 4.48387 6.11927 4.09118 6.32941 3.51024C6.33588 3.49237 6.3425 3.47249 6.35576 3.43273L6.42857 3.21429C6.49073 3.02781 6.52181 2.93457 6.56304 2.8554C6.72751 2.53955 7.03181 2.32023 7.38346 2.26407C7.4716 2.25 7.56988 2.25 7.76645 2.25H10.2336C10.4301 2.25 10.5284 2.25 10.6165 2.26407C10.9682 2.32023 11.2725 2.53955 11.437 2.8554C11.4782 2.93457 11.5093 3.02781 11.5714 3.21429L11.6442 3.43273C11.6575 3.47244 11.6641 3.49238 11.6706 3.51024C11.8807 4.09118 12.4256 4.48387 13.0431 4.49952C13.0621 4.5 13.0831 4.5 13.125 4.5"
                                        stroke="#7E7E7E" stroke-width="1.5" />
                                </svg>

                            </button>
                            <div class="content">
                                <div class="flex flex-row ">
                                    <p>{{reply.text}}</p>
                                    <!-- <button type="submit" mat-raised-button color="primary"
                                        class="reply ml-auto">Reply</button> -->
                                </div>
                            </div>
                            <!-- </div>-->
                            <!-- <button mat-icon-button (click)="delete(reply)">
                                <i class="material-icons">delete_outline</i>
                            </button> -->

                            <!-- <button class="btn dropdown"><i class="ri-more-line"></i></button> -->
                        </div>


                    </div>
                </div>
                <div class="footer">
                    <form [formGroup]="replyForm">
                        <div fxLayout="column" fxLayout.gt-xs="row" class=" h-150">
                            <mat-form-field fxFlex="100">
                                <textarea matInput rows="3" formControlName="comment" trim
                                    autocomplete="off"></textarea>
                            </mat-form-field>
                        </div>
                        <button mat-raised-button color="primary" [disabled]="replyForm.invalid"
                            (click)="addComment(comment._id)">
                            Reply
                        </button>
                    </form>
                </div>
            </div>



        </div>
    </div>
</div>
<div *ngIf="!comment || !comment._id">
    <div class="no-data flex-start" >No comments found</div>
</div>
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[722],{7722:(N,l,o)=>{o.r(l),o.d(l,{LoginModule:()=>A});var s=o(6895),g=o(4859),m=o(9549),e=o(4006),f=o(9938),p=o(7071),h=o(5e3),t=o(4650),v=o(3263),C=o(8606),d=o(9299),Z=o(4507),x=o(2510),S=o(9924),c=o(3546),T=o(4144);function M(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}function L(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Invalid email"),t.qZA())}function O(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}let y=(()=>{class n{constructor(r,i,u,F,J,U,Y){this.errorHandlingService=r,this.formBuilder=i,this.apiService=u,this.router=F,this.authGuard=J,this.matcher=U,this.getSetService=Y,this.loginForm=this.formBuilder.group({email:["",[e.kI.required,e.kI.pattern(h.c.emailValidator.pattern)]],password:["",e.kI.required]})}login(){this.loginForm.valid&&this.apiService.post(f.d.signin,this.loginForm.value).subscribe({next:r=>{console.log(r),localStorage.setItem("auth_token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),this.router.navigate([p.g.Pages.USER_LIST])},error:r=>{this.errorHandlingService.handle(r)}})}ngOnInit(){}}return n.\u0275fac=function(r){return new(r||n)(t.Y36(v.r),t.Y36(e.qu),t.Y36(C.a),t.Y36(d.F0),t.Y36(Z.a),t.Y36(x.d),t.Y36(S.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:23,vars:6,consts:[[1,"login-form"],[1,"h1"],[1,"text"],[1,"mt-30"],[1,"w-100",3,"formGroup","ngSubmit"],[1,"mb-15"],["type","text","matInput","","formControlName","email",3,"errorStateMatcher"],[4,"ngIf"],["type","password","matInput","","formControlName","password"],[1,"button"],["mat-raised-button","","color","primary",1,"w-100",3,"disabled"]],template:function(r,i){1&r&&(t.TgZ(0,"mat-card",0)(1,"h1",1),t._uU(2,"Hi, Admin"),t.qZA(),t.TgZ(3,"p",2),t._uU(4,"Login to your account"),t.qZA(),t.TgZ(5,"mat-card-content",3)(6,"form",4),t.NdJ("ngSubmit",function(){return i.login()}),t.TgZ(7,"div",5)(8,"mat-label"),t._uU(9,"Email"),t.qZA(),t.TgZ(10,"mat-form-field"),t._UZ(11,"input",6),t.YNc(12,M,2,0,"mat-error",7),t.YNc(13,L,2,0,"mat-error",7),t.qZA()(),t.TgZ(14,"div",5)(15,"mat-label"),t._uU(16,"Password"),t.qZA(),t.TgZ(17,"mat-form-field"),t._UZ(18,"input",8),t.YNc(19,O,2,0,"mat-error",7),t.qZA()(),t.TgZ(20,"div",9)(21,"button",10),t._uU(22,"Login"),t.qZA()()()()()),2&r&&(t.xp6(6),t.Q6J("formGroup",i.loginForm),t.xp6(5),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.loginForm.controls.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.loginForm.controls.email.hasError("pattern")),t.xp6(6),t.Q6J("ngIf",i.loginForm.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",i.loginForm.invalid))},dependencies:[s.O5,g.lW,c.a8,c.dn,m.TO,m.KE,m.hX,T.Nt,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.mat-form-field[_ngcontent-%COMP%]{width:100%;min-width:300px}mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%]{display:flex}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.mat-card[_ngcontent-%COMP%]{padding:20px;box-shadow:none}.mat-card-title[_ngcontent-%COMP%]{margin-bottom:20px}.login-form[_ngcontent-%COMP%]{max-width:445px;width:100%;margin:auto}input[_ngcontent-%COMP%], .mat-input-element[_ngcontent-%COMP%]{font-size:16px;line-height:46px;font-weight:400;letter-spacing:0em;text-align:left;color:#8f8f8f}"]}),n})();var I=o(2102);const P=[{path:"**",component:y}];let A=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.Bz.forChild(P),s.ez,g.ot,I.q,m.lN,e.u5,e.UX]}),n})()}}]);
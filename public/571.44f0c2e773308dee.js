"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[571],{8571:(G,u,s)=>{s.r(u),s.d(u,{ProgressModule:()=>$});var a=s(6895),i=s(7155),g=s(9938),t=s(4650),_=s(8606),f=s(5412),C=s(3263),h=s(6964),l=s(8996),x=s(4850),m=s(3848);function v(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"a",8),t.NdJ("click",function(){const c=t.CHM(n).$implicit,d=t.oxw();return t.KtG(d.updateUrl(c))}),t._uU(1),t.qZA()}if(2&e){const n=o.$implicit,r=t.oxw();t.Q6J("active",r.currentUrl.indexOf(n.link)>-1),t.xp6(1),t.hij("",n.label," ")}}function P(e,o){1&e&&(t.TgZ(0,"p",9),t._uU(1," There is no course created yet!\n"),t.qZA())}function y(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1,"#"),t.qZA())}function U(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.index;t.xp6(1),t.hij(" ",n+1," ")}}function b(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1," Course Name "),t.qZA())}function Z(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"titlecase"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,null==n?null:n.course.name)," ")}}function T(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1," User's Name "),t.qZA())}function M(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",(null==n?null:n.user.fullName)||"-"," ")}}function O(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1," User's Email "),t.qZA())}function B(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",null==n?null:n.user.email," ")}}function A(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1," Enrolled On "),t.qZA())}function Y(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==n?null:n.enrollment.enrolledOn,"dd MMM yyyy hh:mm a")," ")}}function N(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1," Progress "),t.qZA())}function w(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij("",n.progress,"% Slides Completed")}}function k(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"Not started yet"),t.qZA())}function S(e,o){1&e&&(t.TgZ(0,"span"),t._uU(1,"All Slides Completed"),t.qZA())}function D(e,o){if(1&e&&(t.TgZ(0,"td",23),t.YNc(1,w,2,1,"span",7),t.YNc(2,k,2,0,"span",7),t.YNc(3,S,2,0,"span",7),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Q6J("ngIf",n.progress&&100!=n.progress),t.xp6(1),t.Q6J("ngIf",!n.progress),t.xp6(1),t.Q6J("ngIf",n.progress&&100==n.progress)}}function Q(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1," Last Activity "),t.qZA())}function F(e,o){if(1&e&&(t.TgZ(0,"td",23),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==n||null==n.latestProgress?null:n.latestProgress.updatedAt,"dd MMM yyyy hh:mm a")||"-"," ")}}function J(e,o){1&e&&t._UZ(0,"tr",24)}function j(e,o){1&e&&t._UZ(0,"tr",25)}function z(e,o){if(1&e&&(t.TgZ(0,"div")(1,"table",10),t.ynx(2,11),t.YNc(3,y,2,0,"th",12),t.YNc(4,U,2,1,"td",13),t.BQk(),t.ynx(5,14),t.YNc(6,b,2,0,"th",12),t.YNc(7,Z,3,3,"td",13),t.BQk(),t.ynx(8,15),t.YNc(9,T,2,0,"th",12),t.YNc(10,M,2,1,"td",13),t.BQk(),t.ynx(11,16),t.YNc(12,O,2,0,"th",12),t.YNc(13,B,2,1,"td",13),t.BQk(),t.ynx(14,17),t.YNc(15,A,2,0,"th",12),t.YNc(16,Y,3,4,"td",13),t.BQk(),t.ynx(17,18),t.YNc(18,N,2,0,"th",12),t.YNc(19,D,4,3,"td",13),t.BQk(),t.ynx(20,19),t.YNc(21,Q,2,0,"th",12),t.YNc(22,F,3,4,"td",13),t.BQk(),t.YNc(23,J,1,0,"tr",20),t.YNc(24,j,1,0,"tr",21),t.qZA()()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}let q=(()=>{class e{constructor(n,r,p,c,d,H,L){this.apiService=n,this.dialog=r,this.errorHandlingService=p,this.alertService=c,this.activeRoute=d,this.router=H,this._location=L,this.apiCallActive=!0,this.currentUrl="",this.activeLinkIndex=-1,this.displayedColumns=["id","coursename","username","email","enrolledOn","progress","lastActivity"],this.activeRoute.params.subscribe({next:({type:E})=>{this.currentUrl=this.router.url,this.getProgress(E)}}),this.navLinks=[{label:"Public",link:"/dashboard/progress/course/public",index:0},{label:"Private",link:"/dashboard/progress/course/private",index:1},{label:"Paid",link:"/dashboard/progress/course/paid",index:2}]}updateUrl(n){this._location.go(n.link),this.currentUrl=n.link,this.getProgress(n.label.toLowerCase())}ngOnInit(){this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}getProgress(n="public"){this.apiCallActive=!0,this.apiService.get(g.d.analytics.replace(":type",n)).subscribe({next:r=>{this.apiCallActive=!1,this.dataSource=new i.by(r.courses||[])},error:r=>{this.apiCallActive=!1,this.errorHandlingService.handle(r)}})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(_.a),t.Y36(f.uw),t.Y36(C.r),t.Y36(h.c),t.Y36(l.gz),t.Y36(l.F0),t.Y36(a.Ye))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-progress-by-courses"]],decls:9,vars:3,consts:[[1,"title-group"],[1,"title"],[1,"mat-h1"],["mat-tab-nav-bar","",1,"mb-15"],["mat-tab-link","",3,"active","click",4,"ngFor","ngForOf"],["fxFlex","1 0"],["class","no-data  flex-start",4,"ngIf"],[4,"ngIf"],["mat-tab-link","",3,"active","click"],[1,"no-data","flex-start"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","coursename"],["matColumnDef","username"],["matColumnDef","email"],["matColumnDef","enrolledOn"],["matColumnDef","progress"],["matColumnDef","lastActivity"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),t._uU(3," User Progress "),t.qZA()()(),t.TgZ(4,"nav",3),t.YNc(5,v,2,2,"a",4),t.qZA(),t._UZ(6,"mat-divider",5),t.YNc(7,P,2,0,"p",6),t.YNc(8,z,25,3,"div",7)),2&n&&(t.xp6(5),t.Q6J("ngForOf",r.navLinks),t.xp6(2),t.Q6J("ngIf",!r.apiCallActive&&(null==r.dataSource||null==r.dataSource.filteredData?null:r.dataSource.filteredData.length)<=0),t.xp6(1),t.Q6J("ngIf",!r.apiCallActive&&(null==r.dataSource||null==r.dataSource.filteredData?null:r.dataSource.filteredData.length)>0))},dependencies:[a.sg,a.O5,x.d,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,m.BU,m.Nj,a.rS,a.uU],styles:[".mat-tab-nav-bar[_ngcontent-%COMP%]{border:0}.mat-tab-nav-bar[_ngcontent-%COMP%]   .mat-ink-bar[_ngcontent-%COMP%]{display:none}.mat-tab-nav-bar[_ngcontent-%COMP%]   .mat-tab-links[_ngcontent-%COMP%]   .mat-tab-link[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#8f8f8f;padding:8px 16px;width:-moz-fit-content;width:fit-content;min-width:-moz-fit-content;min-width:fit-content;margin-right:8px}.mat-tab-nav-bar[_ngcontent-%COMP%]   .mat-tab-links[_ngcontent-%COMP%]   .mat-tab-link.mat-tab-label-active[_ngcontent-%COMP%]{background:#FFFFFF;box-shadow:0 2px 3px #0000000d;border-radius:8px;color:#1d1d1d}.flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding:8px}.flex-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:50%}.flex-row[_ngcontent-%COMP%]   .title-buttons[_ngcontent-%COMP%]{margin-left:auto}table[_ngcontent-%COMP%]{box-shadow:none;border-top:0}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-radius:8px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{margin-bottom:10px;font-size:13px;font-weight:700;line-height:22px;color:#3f3f3f;background-color:#f9f9f9}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px;word-break:break-all}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff!important;font-size:12px;font-weight:600;color:#8f8f8f;border-top:0}table[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{line-height:13px;font-size:16px}tr.mat-row[_ngcontent-%COMP%]{border:white solid 4px;border-radius:8px}"]}),e})();var R=s(5718);const I=[{path:"course/:type",component:q},{path:"**",redirectTo:"user-progress/public"}];let $=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.ez,l.Bz.forChild(I),R.q]}),e})()}}]);
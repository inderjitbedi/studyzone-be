"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[543],{8543:(En,J,c)=>{c.r(J),c.d(J,{CourseModule:()=>kn});var u=c(6895),p=c(9938),F=c(9302),Z=c(2340),a=c(4006),g=c(5412),I=c(8372),R=c(4004),O=c(7071),_=c(529),e=c(4650),C=c(8606),x=c(3263),D=c(2510),b=c(6964),f=c(9549),S=c(4144),w=c(4859),P=c(3683),N=c(455);function ne(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Required "),e.qZA())}function oe(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Course name already exists. "),e.qZA())}function ie(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Course name can only be alpha-numeric. "),e.qZA())}function se(n,i){if(1&n&&(e.TgZ(0,"mat-hint",28),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE("",t.nameMaxLength-t.courseForm.controls.name.value.length," ",t.nameMaxLength-t.courseForm.controls.name.value.length>1?"characters":"character"," left.")}}function re(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",29),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.courseForm.controls.type.setValue(r.value))}),e._uU(1),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw();e.ekj("active",o.courseForm.controls.type.value==t.value),e.xp6(1),e.Oqu(t.name)}}function le(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Required "),e.qZA())}function ae(n,i){1&n&&(e.TgZ(0,"div")(1,"span",30),e._uU(2,"Select a file"),e.qZA(),e.TgZ(3,"div"),e._uU(4,"Please select an image. Max size: 4MB"),e.qZA(),e.TgZ(5,"div"),e._uU(6,"Recommended aspect ratio is 2:1"),e.qZA()())}function ce(n,i){if(1&n&&(e.TgZ(0,"div",31)(1,"div",32),e._uU(2),e.qZA(),e._UZ(3,"progress",33),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.hij("Uploading... ",t.uploadingProgress?t.uploadingProgress-1+"%":"0%",""),e.xp6(1),e.s9C("value",t.uploadingProgress)}}function de(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"img",34),e.NdJ("change",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadFiles(s))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("src",t.courseForm.controls.cover.value?t.baseUrl+t.courseForm.controls.cover.value:"",e.LSH)}}function ue(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Required "),e.qZA())}function me(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Choose a certain type of file. "),e.qZA())}function pe(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," File size should not be greater than 4MB. "),e.qZA())}function he(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-toolbar",35)(1,"div",36)(2,"button",37),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveCourse())}),e._uU(3,"Save"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.courseForm.invalid||t.apiCallActive)}}let ge=(()=>{class n{constructor(t,o,s,r,l,d,h,y){this.matDialog=t,this.data=o,this.apiService=s,this.errorHandlingService=r,this.matcher=l,this.fb=d,this.alertService=h,this.http=y,this.baseUrl=Z.N.baseUrl,this.toggle=!1,this.apiCallActive=!1,this.nameMaxLength=50,this.courseList=[],this.color="#039ee3",this.isUnique=!0,this.fileObject={},this.uploadingInProgess=!1,this.attachment=null,this.types=[{value:"public",name:"Public"},{value:"private",name:"Private"},{value:"paid",name:"Paid"}],this.isViewOnly=o.isViewOnly,this.courseForm=this.fb.group({name:[o.name||"",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9 s]*$")]],type:[o.type||"public",a.kI.required],description:[o.description||"",a.kI.required],isPublished:[o.isPublished],cover:["",a.kI.required]}),o._id&&(this.courseId=o._id||null,this.attachment=o.cover?{...o.cover}:{},this.courseForm.controls.cover.setValue([this.attachment.destination,this.attachment.name].join("/")),console.log(this.courseForm.controls.cover.value)),this.courseForm.controls.name.valueChanges.pipe((0,I.b)(500)).subscribe({next:q=>{this.checkCourseCategoryUniqueness()}})}checkCourseCategoryUniqueness(){}ngOnInit(){}saveCourse(){if(this.courseForm.valid){this.apiCallActive=!0;let t={type:this.courseForm.value.type,name:this.courseForm.value.name.trim().toLowerCase(),description:this.courseForm.value.description,isPublished:this.courseForm.value.isPublished,cover:this.attachment._id},o=p.d.createCourse,s=this.apiService.post(o,t);this.courseId&&(o+="/"+this.courseId,s=this.apiService.put(o,t)),s.subscribe({next:r=>{this.alertService.notify(r.message),this.matDialog.close(r)},error:r=>{this.errorHandlingService.handle(r)},complete:()=>{this.apiCallActive=!1}})}}uploadFiles(t){if(t.target.value){const o=t.target.files[0];this.fileObject.fileName=o.name,this.fileObject.fileExtension=o.name.split(".")[o.name.split(".").length-1].toLowerCase(),this.fileObject.fileSize=o.size;const s=O.g.allowedImageFileExtentions;if(s.find(r=>r===this.fileObject.fileExtension))if(this.fileObject.fileSize>O.g.maximumFileSize)this.alertService.notify(`Please make sure your file is less than ${O.g.maximumFileSize/1e6} MB in size.`,"info");else{const r=new FormData;r.append("file",o),this.uploadFile(r)}else this.alertService.notify("Please make sure your file is in one of these formats: "+s,"info")}}uploadFile(t){this.uploadingInProgess=!0,this.apiCallActive=!0,this.attachment=null,this.http.post(Z.N.baseUrl+p.d.uploadFile+"cover",t,{reportProgress:!0,observe:"events"}).pipe((0,R.U)(o=>{switch(o.type){case _.dt.Sent:break;case _.dt.ResponseHeader:this.uploadingInProgess=!1,this.apiCallActive=!1;break;case _.dt.UploadProgress:this.uploadingProgress=Math.round(o.loaded/o.total*100);break;case _.dt.Response:this.apiCallActive=!1,201===o.status||201===o.status?(this.attachment={...o.body.file},this.courseForm.controls.cover.setValue([this.attachment.destination,this.attachment.name].join("/"))):this.errorHandlingService.handle(o.body),setTimeout(()=>{this.uploadingProgress=0},500)}})).subscribe()}formatBytes(t,o=2){if(0===t)return"0 Bytes";const r=o<=0?0:o||2,d=Math.floor(Math.log(t)/Math.log(1024));return"("+parseFloat((t/Math.pow(1024,d)).toFixed(r))+" "+["Bytes","KB","MB"][d]+")"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.so),e.Y36(g.WI),e.Y36(C.a),e.Y36(x.r),e.Y36(D.d),e.Y36(a.qu),e.Y36(b.c),e.Y36(_.eN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-course-form"]],decls:48,vars:27,consts:[["fxLayout","column",1,"container-div"],["fxLayoutAlign","end flex-end",1,"mat-accent-bg","m-0"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between flex-end",1,"mat-toolbar-header"],[1,"title","dialog-title"],[1,"mat-button-wrapper","cursor-pointer",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","12","cy","12","r","10","stroke","#8F8F8F","stroke-width","1.5"],["d","M14.5 9.49999L9.5 14.5M9.49998 9.49997L14.5 14.4999","stroke","#8F8F8F","stroke-width","1.5","stroke-linecap","round"],["fxLayout","column",1,"content","p-20","mt-20"],["fx-layout","column",3,"formGroup"],["fxLayout","column","fxLayout.gt-xs","row"],["fxFlex","100"],["type","text","matInput","","formControlName","name","trim","","autocomplete","off","maxlength","50",3,"errorStateMatcher","readonly"],[4,"ngIf"],["align","end",4,"ngIf"],[1,"nav","nav-pills","nav-fill"],["class","nav-link ",3,"active","click",4,"ngFor","ngForOf"],["fxLayout","column","fxLayout.gt-xs","row",1,"h-150"],["matInput","","rows","3","formControlName","description","trim","","autocomplete","off",3,"errorStateMatcher","readonly"],["fxLayout","column","fxLayout.gt-xs","row",1,"uploadImage","mt-20"],["id","file-upload-form",1,"uploader"],["id","file-upload","type","file","name","fileUpload","accept","image/png,image/jpeg,image/jpg",3,"change"],["for","file-upload","id","file-drag",1,"c-label"],["id","response",4,"ngIf"],["id","file-image","alt","Preview",3,"src","change",4,"ngIf"],["fxLayout","column","fxLayout.gt-xs","row",1,"flex-center","mt-20"],["formControlName","isPublished","name","enablepublished"],["class","mat-accent-bg m-0 mt-12","fxLayoutAlign","center",4,"ngIf"],["align","end"],[1,"nav-link",3,"click"],[1,"c-btn"],["id","response"],["id","messages"],["max","100",1,"progress",3,"value"],["id","file-image","alt","Preview",3,"src","change"],["fxLayoutAlign","center",1,"mat-accent-bg","m-0","mt-12"],["fxlayout","row","fxLayoutAlign","flex-end","fxFlex","100",1,"mat-toolbar-footer","action-buttons"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span",3),e._uU(4),e.qZA(),e.TgZ(5,"span",4),e.NdJ("click",function(){return o.matDialog.close()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"circle",6)(8,"path",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",10)(13,"mat-label"),e._uU(14,"Course Name "),e.qZA(),e.TgZ(15,"mat-form-field",11),e._UZ(16,"input",12),e.YNc(17,ne,2,0,"mat-error",13),e.YNc(18,oe,2,0,"mat-error",13),e.YNc(19,ie,2,0,"mat-error",13),e.YNc(20,se,2,2,"mat-hint",14),e.qZA()(),e.TgZ(21,"div",10)(22,"mat-label"),e._uU(23,"Type"),e.qZA(),e.TgZ(24,"nav",15),e.YNc(25,re,2,3,"a",16),e.qZA()(),e.TgZ(26,"div",17)(27,"mat-label"),e._uU(28,"Course Description "),e.qZA(),e.TgZ(29,"mat-form-field",11),e._UZ(30,"textarea",18),e.YNc(31,le,2,0,"mat-error",13),e.qZA()(),e.TgZ(32,"div",19)(33,"mat-label"),e._uU(34,"Cover Image * "),e.qZA(),e.TgZ(35,"div",20)(36,"input",21),e.NdJ("change",function(r){return o.uploadFiles(r)}),e.qZA(),e.TgZ(37,"label",22),e.YNc(38,ae,7,0,"div",13),e.YNc(39,ce,4,2,"div",23),e.YNc(40,de,1,1,"img",24),e.qZA()(),e.YNc(41,ue,2,0,"mat-error",13),e.YNc(42,me,2,0,"mat-error",13),e.YNc(43,pe,2,0,"mat-error",13),e.qZA(),e.TgZ(44,"div",25),e._uU(45," Published "),e._UZ(46,"mat-slide-toggle",26),e.qZA()()()(),e.YNc(47,he,4,1,"mat-toolbar",27),e.qZA()),2&t&&(e.xp6(4),e.hij("",o.courseId?"Edit":"Create"," Course"),e.xp6(6),e.Q6J("formGroup",o.courseForm),e.xp6(1),e.ekj("form-div",!o.isViewOnly)("mt-30",o.isViewOnly),e.xp6(4),e.ekj("mb-10",o.courseForm.controls.name.touched&&o.courseForm.controls.name.hasError("required")),e.xp6(1),e.Q6J("errorStateMatcher",o.matcher)("readonly",o.isViewOnly),e.xp6(1),e.Q6J("ngIf",o.courseForm.controls.name.hasError("required")),e.xp6(1),e.Q6J("ngIf",!o.courseForm.controls.name.hasError("required")&&!o.courseForm.controls.name.hasError("pattern")&&o.courseForm.controls.name.hasError("not_unique")),e.xp6(1),e.Q6J("ngIf",!o.courseForm.controls.name.hasError("required")&&o.courseForm.controls.name.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",!o.isViewOnly),e.xp6(5),e.Q6J("ngForOf",o.types),e.xp6(4),e.ekj("mb-10",o.courseForm.controls.description.touched&&o.courseForm.controls.description.hasError("required")),e.xp6(1),e.Q6J("errorStateMatcher",o.matcher)("readonly",o.isViewOnly),e.xp6(1),e.Q6J("ngIf",o.courseForm.controls.description.hasError("required")),e.xp6(7),e.Q6J("ngIf",!o.uploadingInProgess&&!o.attachment),e.xp6(1),e.Q6J("ngIf",o.uploadingInProgess),e.xp6(1),e.Q6J("ngIf",!o.uploadingInProgess&&o.attachment),e.xp6(1),e.Q6J("ngIf",null==o.courseForm.controls.cover?null:o.courseForm.controls.cover.hasError("required")),e.xp6(1),e.Q6J("ngIf",!(null!=o.courseForm.controls.cover&&o.courseForm.controls.cover.hasError("required"))&&o.courseForm.controls.cover.hasError("file_type")),e.xp6(1),e.Q6J("ngIf",!o.courseForm.controls.cover.hasError("required")&&!o.courseForm.controls.cover.hasError("file_type")&&o.courseForm.controls.cover.hasError("file_size")),e.xp6(4),e.Q6J("ngIf",!o.isViewOnly))},dependencies:[u.sg,u.O5,f.TO,f.KE,f.bx,f.hX,S.Nt,w.lW,P.Ye,a._Y,a.Fj,a.JJ,a.JL,a.nD,a.sg,a.u,N.Rr],styles:[".mat-dialog-container{width:100%;padding:24px 32px}.nav{margin:16px 0}.nav .nav-link{background:#fff;border:1px solid #8F8F8F;border-radius:68px;color:#8f8f8f;font-size:12px;font-weight:700;line-height:16px;margin-right:8px;padding:8px 16px;width:-moz-fit-content;width:fit-content;flex:none;cursor:pointer}.nav .nav-link.active{background:#F5F8FF;color:#007aff;border-color:#007aff}.h-150{max-height:180px}.h-150 .mat-form-field-flex{height:150px}.c-btn{font-style:normal;font-weight:700;font-size:12px;line-height:24px;text-decoration-line:underline;color:#007aff}.info{font-family:Inter;font-style:normal;font-weight:500;font-size:12px;line-height:16px;color:#a0a5b0!important}.uploader label{width:100%;height:150px;border:1px solid #8F8F8F;display:flex;align-items:center;justify-content:center}.h-50{height:50px!important}progress::-webkit-progress-value{background:#007AFF}progress{color:#007aff}progress::-moz-progress-bar{background:#007AFF}\n"],encapsulation:2}),n})();var v=c(8996),Q=c(4850),fe=c(7392),L=c(8255),M=c(3848);function _e(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",12),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.updateUrl(r))}),e._uU(1),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw();e.Q6J("active",o.currentUrl.indexOf(t.link)>-1),e.xp6(1),e.hij("",t.label," ")}}function ve(n,i){1&n&&(e.TgZ(0,"p",13),e._uU(1," There is no course created yet!\n"),e.qZA())}function Ce(n,i){1&n&&(e.TgZ(0,"span",36),e._uU(1,"Free"),e.qZA())}function xe(n,i){1&n&&(e.TgZ(0,"span",37),e._uU(1,"Paid"),e.qZA())}function be(n,i){1&n&&(e.TgZ(0,"span",38),e._uU(1,"Private"),e.qZA())}const j=function(n){return["/dashboard/course/details/",n]};function we(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",17),e._UZ(1,"img",18),e.TgZ(2,"div",19)(3,"div",14)(4,"div",20)(5,"h2",21),e._uU(6),e.ALo(7,"titlecase"),e.qZA(),e.TgZ(8,"p",22),e._uU(9),e.qZA(),e.TgZ(10,"div",23),e.YNc(11,Ce,2,0,"span",24),e.YNc(12,xe,2,0,"span",25),e.YNc(13,be,2,0,"span",26),e.TgZ(14,"a",27),e._uU(15,"View Course"),e.qZA()()(),e.TgZ(16,"div",28),e._uU(17," Published "),e.TgZ(18,"mat-slide-toggle",29),e.NdJ("ngModelChange",function(s){const l=e.CHM(t).$implicit;return e.KtG(l.isPublished=s)})("click",function(s){const r=e.CHM(t),l=r.index,d=r.$implicit,h=e.oxw(2);return s.preventDefault(),e.KtG(h.manageCourseVisibility(l,d))}),e.qZA(),e.TgZ(19,"a",30),e.O4$(),e.TgZ(20,"svg",31),e._UZ(21,"rect",32)(22,"path",33),e.qZA()(),e.kcU(),e.TgZ(23,"mat-menu",null,34)(25,"button",35),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.openAddCourseForm(!1,r))}),e._uU(26,"Edit"),e.qZA(),e.TgZ(27,"button",35),e.NdJ("click",function(){const s=e.CHM(t),r=s.index,l=s.$implicit,d=e.oxw(2);return e.KtG(d.delete(r,l))}),e._uU(28,"Delete"),e.qZA()()()()()()}if(2&n){const t=i.$implicit,o=e.MAs(24),s=e.oxw(2);e.xp6(1),e.Q6J("src",null!=t&&null!=t.cover&&t.cover.path?s.baseUrl+(null==t||null==t.cover?null:t.cover.path):"../assets/jillyAcadey.png",e.LSH),e.xp6(4),e.Q6J("routerLink",e.VKq(12,j,t._id)),e.xp6(1),e.hij(" ",e.lcZ(7,10,t.name),""),e.xp6(3),e.Oqu(t.description),e.xp6(2),e.Q6J("ngIf","public"==t.type),e.xp6(1),e.Q6J("ngIf","paid"==t.type),e.xp6(1),e.Q6J("ngIf","private"==t.type),e.xp6(1),e.Q6J("routerLink",e.VKq(14,j,t._id)),e.xp6(4),e.Q6J("ngModel",t.isPublished),e.xp6(1),e.Q6J("matMenuTriggerFor",o)}}function ye(n,i){if(1&n&&(e.TgZ(0,"div")(1,"div",14)(2,"div",15),e.YNc(3,we,29,16,"div",16),e.qZA()()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngForOf",t.courses)}}let Fe=(()=>{class n{constructor(t,o,s,r,l,d,h){this.apiService=t,this.dialog=o,this.errorHandlingService=s,this.alertService=r,this.activeRoute=l,this.router=d,this._location=h,this.baseUrl=Z.N.baseUrl,this.courses=[],this.apiCallActive=!0,this.currentUrl="",this.activeLinkIndex=-1,this.displayedColumns=["id","name","type","isPublished","action"],this.activeRoute.params.subscribe({next:({type:y})=>{this.currentUrl=this.router.url,this.getCourses(y)}}),this.navLinks=[{label:"Public",link:"/dashboard/course/list/public",index:0},{label:"Private",link:"/dashboard/course/list/private",index:1},{label:"Paid",link:"/dashboard/course/list/paid",index:2}]}updateUrl(t){this._location.go(t.link),this.currentUrl=t.link,this.getCourses(t.label.toLowerCase())}ngOnInit(){this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}delete(t,o){this.openConfirmDialog(t,o,{course:o,heading:"Delete course",type:"delete",message:"Are you sure you want to delete this course?"})}manageCourseVisibility(t,o){this.openConfirmDialog(t,o,{course:o,type:"visibility",heading:(o.isPublished?"Unpublish":"Publish")+" Course",message:"Are you sure you want to "+(o.isPublished?"un":"")+"publish this course?"})}openConfirmDialog(t,o,s={}){this.addCourseDialogRef=this.dialog.open(F.$,{minWidth:"320px",width:"585px",disableClose:!0,data:s}),this.addCourseDialogRef.afterClosed().subscribe({next:r=>{r&&("delete"==s.type?this.deleteCourse(t,o):this.manageCourse(t,o))}})}openAddCourseForm(t,o={}){this.addCourseDialogRef=this.dialog.open(ge,{minWidth:"520px",width:"585px",disableClose:!0,data:{isViewOnly:t,...o}}),this.addCourseDialogRef.afterClosed().subscribe({next:s=>{s&&this.router.navigate(["/dashboard/course/list/"+(s?.course?.type||"public")],{skipLocationChange:!0})}})}getCourses(t="public"){this.apiCallActive=!0,this.apiService.get(p.d.course+t).subscribe({next:o=>{this.apiCallActive=!1,this.courses=o.courses||[]},error:o=>{this.apiCallActive=!1,this.errorHandlingService.handle(o)}})}manageCourse(t,o){this.apiService.put(p.d.manageCourseAccess+o._id,{isPublished:!o.isPublished}).subscribe({next:s=>{this.courses[t].isPublished=s.course.isPublished,this.alertService.notify(s.message)},error:s=>this.errorHandlingService.handle(s)})}deleteCourse(t,o){this.apiService.put(p.d.deleteCourse.replace(":id",o._id),{isDeleted:!0}).subscribe({next:s=>{this.courses.splice(t,1),this.alertService.notify(s.message)},error:s=>this.errorHandlingService.handle(s)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.a),e.Y36(g.uw),e.Y36(x.r),e.Y36(b.c),e.Y36(v.gz),e.Y36(v.F0),e.Y36(u.Ye))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-course-list"]],decls:17,vars:4,consts:[[1,"title-group"],[1,"title"],[1,"h1"],[1,"line","italic"],[1,"flex","space-between","mb-15"],["mat-tab-nav-bar",""],["mat-tab-link","",3,"active","click",4,"ngFor","ngForOf"],[1,"title-buttons"],["mat-raised-button","","color","primary",3,"click"],["fxFlex","1 0"],["class","no-data",4,"ngIf"],[4,"ngIf"],["mat-tab-link","",3,"active","click"],[1,"no-data"],[1,"row"],[1,"col-12","mt-10"],["class","card mt-10 p-3 flex flex-row",4,"ngFor","ngForOf"],[1,"card","mt-10","p-3","flex","flex-row"],["alt","...",1,"col-sm-4","col-lg-3",3,"src"],[1,"card-body","col-lg-9","col-sm-8","flex","flex-row"],[1,"col-lg-8","col-md-6"],[1,"card-title","h2","cursor-pointer",3,"routerLink"],[1,"card-text"],[1,"d-flex"],["class","badge badge-pill badge-success",4,"ngIf"],["class","badge badge-pill badge-danger",4,"ngIf"],["class","badge badge-pill badge-light",4,"ngIf"],[1,"view-course",3,"routerLink"],[1,"col-lg-4","col-md-6","published"],["name","enablepublished",3,"ngModel","ngModelChange","click"],[1,"cursor-pointer",3,"matMenuTriggerFor"],["width","40","height","40","viewBox","0 0 40 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["x","39.5","y","0.5","width","39","height","39","rx","19.5","transform","rotate(90 39.5 0.5)","fill","white","stroke","#F3F3F3"],["fill-rule","evenodd","clip-rule","evenodd","d","M20 10C21.1046 10 22 10.8954 22 12C22 13.1046 21.1046 14 20 14C18.8954 14 18 13.1046 18 12C18 10.8954 18.8954 10 20 10ZM20 18C21.1046 18 22 18.8954 22 20C22 21.1046 21.1046 22 20 22C18.8954 22 18 21.1046 18 20C18 18.8954 18.8954 18 20 18ZM22 28C22 26.8954 21.1046 26 20 26C18.8954 26 18 26.8954 18 28C18 29.1046 18.8954 30 20 30C21.1046 30 22 29.1046 22 28Z","fill","#BFBFBF"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"badge","badge-pill","badge-success"],[1,"badge","badge-pill","badge-danger"],[1,"badge","badge-pill","badge-light"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3," Course List "),e.TgZ(4,"p",3),e._uU(5),e.qZA()()()(),e.TgZ(6,"div",4)(7,"nav",5),e.YNc(8,_e,2,2,"a",6),e.qZA(),e.TgZ(9,"div",7)(10,"button",8),e.NdJ("click",function(){return o.openAddCourseForm(!1)}),e.TgZ(11,"mat-icon"),e._uU(12,"add"),e.qZA(),e._uU(13," Add New "),e.qZA()()(),e._UZ(14,"mat-divider",9),e.YNc(15,ve,2,0,"p",10),e.YNc(16,ye,4,1,"div",11)),2&t&&(e.xp6(5),e.hij("",o.courses.length," courses"),e.xp6(3),e.Q6J("ngForOf",o.navLinks),e.xp6(7),e.Q6J("ngIf",!o.apiCallActive&&(null==o.courses?null:o.courses.length)<=0),e.xp6(1),e.Q6J("ngIf",!o.apiCallActive&&(null==o.courses?null:o.courses.length)>0))},dependencies:[v.rH,v.yS,u.sg,u.O5,w.lW,Q.d,fe.Hw,a.JJ,a.On,L.VK,L.OP,L.p6,M.BU,M.Nj,N.Rr,u.rS],styles:["table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px;word-break:break-all}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:100px;align-content:flex-end}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%]{width:25px}.lesson[_ngcontent-%COMP%]{font-family:Plus Jakarta Sans;font-size:12px;font-weight:600;font-style:normal;line-height:15px;letter-spacing:0em;text-align:left;color:#8f8f8f}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:.375rem;object-fit:cover;height:175px!important}.card-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%}"]}),n})();var A=c(3546),T=c(1206),B=c(4968),Ze=c(9770),z=c(7579),H=c(2722),Te=c(5698),Se=c(9718),Me=c(6063);class Ae extends z.x{constructor(i=1/0,t=1/0,o=Me.l){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:o,_infiniteTimeWindow:s,_timestampProvider:r,_windowTime:l}=this;t||(o.push(i),!s&&o.push(r.now()+l)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:o,_buffer:s}=this,r=s.slice();for(let l=0;l<r.length&&!i.closed;l+=o?1:2)i.next(r[l]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:s}=this,r=(s?1:2)*i;if(i<1/0&&r<o.length&&o.splice(0,o.length-r),!s){const l=t.now();let d=0;for(let h=1;h<o.length&&o[h]<=l;h+=2)d=h;d&&o.splice(0,d+1)}}}var ke=c(3099);function qe(n,i){}const k=()=>{const n=typeof window<"u"?window:void 0;return n&&n.tinymce?n.tinymce:null};let Ue=(()=>{class n{constructor(){this.onBeforePaste=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onContextMenu=new e.vpe,this.onCopy=new e.vpe,this.onCut=new e.vpe,this.onDblclick=new e.vpe,this.onDrag=new e.vpe,this.onDragDrop=new e.vpe,this.onDragEnd=new e.vpe,this.onDragGesture=new e.vpe,this.onDragOver=new e.vpe,this.onDrop=new e.vpe,this.onFocus=new e.vpe,this.onFocusIn=new e.vpe,this.onFocusOut=new e.vpe,this.onKeyDown=new e.vpe,this.onKeyPress=new e.vpe,this.onKeyUp=new e.vpe,this.onMouseDown=new e.vpe,this.onMouseEnter=new e.vpe,this.onMouseLeave=new e.vpe,this.onMouseMove=new e.vpe,this.onMouseOut=new e.vpe,this.onMouseOver=new e.vpe,this.onMouseUp=new e.vpe,this.onPaste=new e.vpe,this.onSelectionChange=new e.vpe,this.onActivate=new e.vpe,this.onAddUndo=new e.vpe,this.onBeforeAddUndo=new e.vpe,this.onBeforeExecCommand=new e.vpe,this.onBeforeGetContent=new e.vpe,this.onBeforeRenderUI=new e.vpe,this.onBeforeSetContent=new e.vpe,this.onChange=new e.vpe,this.onClearUndos=new e.vpe,this.onDeactivate=new e.vpe,this.onDirty=new e.vpe,this.onExecCommand=new e.vpe,this.onGetContent=new e.vpe,this.onHide=new e.vpe,this.onInit=new e.vpe,this.onInitNgModel=new e.vpe,this.onLoadContent=new e.vpe,this.onNodeChange=new e.vpe,this.onPostProcess=new e.vpe,this.onPostRender=new e.vpe,this.onPreInit=new e.vpe,this.onPreProcess=new e.vpe,this.onProgressState=new e.vpe,this.onRedo=new e.vpe,this.onRemove=new e.vpe,this.onReset=new e.vpe,this.onResizeEditor=new e.vpe,this.onSaveContent=new e.vpe,this.onSetAttrib=new e.vpe,this.onObjectResizeStart=new e.vpe,this.onObjectResized=new e.vpe,this.onObjectSelected=new e.vpe,this.onSetContent=new e.vpe,this.onShow=new e.vpe,this.onSubmit=new e.vpe,this.onUndo=new e.vpe,this.onVisualAid=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),n})();const V=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],E=(n,i,t)=>(0,B.R)(n,i).pipe((0,H.R)(t)),$=(n,i)=>"string"==typeof n?n.split(",").map(t=>t.trim()):Array.isArray(n)?n:i;let G=0;const K=n=>typeof n<"u"&&"textarea"===n.tagName.toLowerCase(),W=n=>typeof n>"u"||""===n?[]:Array.isArray(n)?n:n.split(" "),Pe=(n,i)=>W(n).concat(W(i)),Ne=()=>{},X=n=>null==n,Le=(()=>{let n={script$:null};return{load:(o,s)=>n.script$||(n.script$=(0,Ze.P)(()=>{const r=o.createElement("script");return r.referrerPolicy="origin",r.type="application/javascript",r.src=s,o.head.appendChild(r),(0,B.R)(r,"load").pipe((0,Te.q)(1),(0,Se.h)(void 0))}).pipe(function Ee(n,i,t){let o,s=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:i=1/0,refCount:s=!1,scheduler:t}=n):o=n??1/0,(0,ke.B)({connector:()=>new Ae(o,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}({bufferSize:1,refCount:!0}))),reinitialize:()=>{n={script$:null}}}})(),Ye=new e.OlP("TINYMCE_SCRIPT_SRC"),Je={provide:a.JU,useExisting:(0,e.Gpc)(()=>Y),multi:!0};let Y=(()=>{class n extends Ue{constructor(t,o,s,r){super(),this.platformId=s,this.tinymceScriptSrc=r,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=Ne,this.destroy$=new z.x,this.initialise=()=>{const l={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:Pe(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:d=>{this._editor=d,E(d,"init",this.destroy$).subscribe(()=>{this.initEditor(d)}),((n,i,t)=>{(n=>{const i=$(n.ignoreEvents,[]);return $(n.allowedEvents,V).filter(o=>V.includes(o)&&!i.includes(o))})(n).forEach(s=>{const r=n[s];E(i,s.substring(2),t).subscribe(l=>{r.observers.length>0&&n.ngZone.run(()=>r.emit({event:l,editor:i}))})})})(this,d,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(d)}};K(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{k().init(l)})},this._elementRef=t,this.ngZone=o}set disabled(t){this._disabled=t,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(t?"readonly":"design"):this._editor.setMode(t?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(t){this._editor&&this._editor.initialized?this._editor.setContent(X(t)?"":t):this.initialValue=null===t?void 0:t}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.disabled=t}ngAfterViewInit(){(0,u.NF)(this.platformId)&&(this.id=this.id||(n=>{const t=(new Date).getTime(),o=Math.floor(1e9*Math.random());return G++,"tiny-angular_"+o+G+String(t)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==k()?this.initialise():this._element&&this._element.ownerDocument&&Le.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,H.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==k()&&k().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,K(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return X(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(t){E(t,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),E(t,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(t))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{t.setContent(this.initialValue),t.getContent()!==this.initialValue&&this.emitOnChange(t),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(t)})}emitOnChange(t){this.onChangeCallback&&this.onChangeCallback(t.getContent({format:this.outputFormat}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi),e.Y36(Ye,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[e._Bn([Je]),e.qOj,e.jDz],decls:1,vars:0,template:function(t,o){1&t&&e.YNc(0,qe,0,0,"ng-template")},dependencies:[u.ez,a.u5],styles:["[_nghost-%COMP%]{display:block}"]}),n})(),Re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Y]}),n})();function Qe(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Required "),e.qZA())}function je(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Slide name already exists. "),e.qZA())}function Be(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Slide name can only be alpha-numeric. "),e.qZA())}function ze(n,i){if(1&n&&(e.TgZ(0,"mat-hint",22),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.AsE("",t.nameMaxLength-t.slideForm.controls.name.value.length," ",t.nameMaxLength-t.slideForm.controls.name.value.length>1?"characters":"character"," left.")}}function He(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",23),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw();return l.slideForm.controls.type.setValue(r),e.KtG(l.selectedType=r)}),e._uU(1),e.ALo(2,"titlecase"),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw();e.ekj("active",o.selectedType==t),e.xp6(1),e.hij(" ",e.lcZ(2,3,t),"")}}function Ve(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e._UZ(2,"br"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" The allowed extensions are ",t.selectedFileSettings.extensions,".")}}function $e(n,i){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"i",29),e.TgZ(2,"span",30),e._uU(3),e.qZA(),e.TgZ(4,"div",31),e.YNc(5,Ve,3,1,"span",13),e._uU(6),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(3),e.hij("Select ",t.selectedFileSettings.name," file"),e.xp6(2),e.Q6J("ngIf","pdf"!=t.selectedType),e.xp6(1),e.hij(" Max size: ",t.selectedFileSettings.maxSize,"MB ")}}function Ge(n,i){1&n&&(e.TgZ(0,"div")(1,"span",30),e._uU(2,"Select another"),e.qZA()())}function Ke(n,i){if(1&n&&(e.TgZ(0,"div",32)(1,"div",33),e._uU(2),e.qZA(),e._UZ(3,"progress",34),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("Uploading... ",t.uploadingProgress?t.uploadingProgress-1+"%":"0%",""),e.xp6(1),e.Q6J("value",t.uploadingProgress)}}function We(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Required "),e.qZA())}function Xe(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Choose a certain type of file. "),e.qZA())}function et(n,i){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" File size should not be greater than ",t.selectedFileSettings.maxSize,"MB. ")}}function tt(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,We,2,0,"mat-error",13),e.YNc(2,Xe,2,0,"mat-error",13),e.YNc(3,et,2,1,"mat-error",13),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",null==t.slideForm.controls[t.selectedFileSettings.key]?null:t.slideForm.controls[t.selectedFileSettings.key].hasError("required")),e.xp6(1),e.Q6J("ngIf",!(null!=t.slideForm.controls[t.selectedFileSettings.key]&&t.slideForm.controls[t.selectedFileSettings.key].hasError("required"))&&(null==t.slideForm.controls[t.selectedFileSettings.key]?null:t.slideForm.controls[t.selectedFileSettings.key].hasError("file_type"))),e.xp6(1),e.Q6J("ngIf",!(null!=t.slideForm.controls[t.selectedFileSettings.key]&&t.slideForm.controls[t.selectedFileSettings.key].hasError("required"))&&!(null!=t.slideForm.controls[t.selectedFileSettings.key]&&t.slideForm.controls[t.selectedFileSettings.key].hasError("file_type"))&&(null==t.slideForm.controls[t.selectedFileSettings.key]?null:t.slideForm.controls[t.selectedFileSettings.key].hasError("file_size")))}}function nt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",25)(2,"input",26),e.NdJ("change",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.uploadFiles(s))}),e.qZA(),e.TgZ(3,"label",27),e.YNc(4,$e,7,3,"div",13),e.YNc(5,Ge,3,0,"div",13),e.YNc(6,Ke,4,2,"div",28),e.qZA()(),e.YNc(7,tt,4,3,"div",13),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.s9C("accept",t.selectedFileSettings.mimeTypes),e.xp6(1),e.ekj("h-50",!t.uploadingInProgess&&(t.attachment||(null==t.slideForm.controls[t.selectedFileSettings.key]?null:t.slideForm.controls[t.selectedFileSettings.key].value))),e.xp6(1),e.Q6J("ngIf",!(t.uploadingInProgess||t.attachment||null!=t.slideForm.controls[t.selectedFileSettings.key]&&t.slideForm.controls[t.selectedFileSettings.key].value)),e.xp6(1),e.Q6J("ngIf",!t.uploadingInProgess&&(t.attachment||(null==t.slideForm.controls[t.selectedFileSettings.key]?null:t.slideForm.controls[t.selectedFileSettings.key].value))),e.xp6(1),e.Q6J("ngIf",t.uploadingInProgess),e.xp6(1),e.Q6J("ngIf",!(t.attachment||null!=t.slideForm.controls[t.selectedFileSettings.key]&&t.slideForm.controls[t.selectedFileSettings.key].value))}}function ot(n,i){if(1&n&&(e.TgZ(0,"video",35),e._uU(1," Sorry, your browser doesn't support embedded videos. "),e.qZA()),2&n){const t=e.oxw();e.s9C("src",t.slideForm.controls.file.value?t.environment.baseUrl+t.slideForm.controls.file.value:"",e.LSH)}}function it(n,i){if(1&n&&(e.TgZ(0,"div",36)(1,"audio",37),e._UZ(2,"source",38),e._uU(3," Sorry, your browser does not support the audio element. "),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.s9C("src",t.slideForm.controls.file.value?t.environment.baseUrl+t.slideForm.controls.file.value:"",e.LSH)}}function st(n,i){1&n&&(e.TgZ(0,"span",40),e._uU(1,"picture_as_pdf"),e.qZA())}function rt(n,i){if(1&n&&(e.TgZ(0,"div",36)(1,"p"),e.YNc(2,st,2,0,"span",39),e._uU(3),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.attachment.originalName),e.xp6(1),e.hij(" ",t.attachment.originalName||"No file found","")}}function lt(n,i){if(1&n&&(e.TgZ(0,"div",41),e._UZ(1,"editor",42),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("apiKey",t.apiKey)("disabled",!1)("init",t.setting)("inline",!1)}}function at(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"mat-toolbar",43)(1,"div",44)(2,"button",45),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.saveSlide())}),e._uU(3,"Save"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",t.slideForm.invalid||!(null!=t.slideForm.controls.text&&t.slideForm.controls.text.value)&&"text"==t.slideForm.controls.type.value||!t.attachment&&!(null!=t.slideForm.controls[t.selectedFileSettings.key]&&t.slideForm.controls[t.selectedFileSettings.key].value)&&"text"!=t.slideForm.controls.type.value||t.apiCallActive)}}let ct=(()=>{class n{constructor(t,o,s,r,l,d,h,y,q){this.matDialog=t,this.data=o,this.apiService=s,this.errorHandlingService=r,this.matcher=l,this.fb=d,this.http=h,this.alertService=y,this.activeRoute=q,this.apiKey="2s5r3no6j3vom8zxctikpv6sh6s2j7qe8p277t61yl1h7boh",this.setting={plugins:"anchor autolink emoticons image link lists media searchreplace table visualblocks wordcount checklist mediaembed casechange export formatpainter pageembed linkchecker tinymcespellchecker permanentpen powerpaste advtable advcode editimage tinycomments tableofcontents footnotes mergetags autocorrect typography inlinecss",tinycomments_mode:"embedded"},this.environment=Z.N,this.toggle=!1,this.apiCallActive=!1,this.nameMaxLength=50,this.slideList=[],this.color="#039ee3",this.isUnique=!0,this.fileObject={},this.uploadingInProgess=!1,this.attachment=null,this.types=["text","video","audio","pdf"],this.selectedType=1,this.selectedFileSettings={},this.fileSettings=[{name:"video",maxSize:200,mimeTypes:"video/mp4,video/webm,video/ogg",extensions:["mp4","ogg","webm"],fileType:"MP4, WebM or OGG",key:"file"},{name:"audio",maxSize:200,mimeTypes:"audio/mpeg,audio/ogg,audio/wav",extensions:["mp3","ogg","wav"],fileType:"MP3, OGG or WAV"},{name:"pdf",maxSize:100,mimeTypes:"application/pdf",extensions:["pdf"],fileType:"PDF"}],this.isViewOnly=o.isViewOnly,console.log(o),this.slideForm=this.fb.group({name:[o.name||"",[a.kI.required,a.kI.pattern("^[a-zA-Z0-9 s]*$")]],type:[o.type||"text",a.kI.required],text:[o.text||""],file:[""]}),console.log(this.slideForm.value),this.selectedSlideDetails=o,this.courseId=o.courseId,this.selectedType=o.type||"text",o._id&&(this.slideId=o._id||null,this.typeUpdated(o.type),o.file&&(this.attachment=o.file?{...o.file}:{},this.slideForm.controls.file.setValue([this.attachment.destination,this.attachment.name].join("/")))),this.slideForm.controls.name.valueChanges.pipe((0,I.b)(500)).subscribe({next:U=>{this.checkSlideUniqueness()}}),this.slideForm.controls.type.valueChanges.subscribe({next:U=>{this.typeUpdated(U)}})}checkSlideUniqueness(){}ngOnInit(){}saveSlide(){if(this.slideForm.valid){this.apiCallActive=!0;let t={type:this.slideForm.value.type,name:this.slideForm.value.name.trim().toLowerCase(),position:this.selectedSlideDetails.position||this.selectedSlideDetails.totalSlides+1};"text"==t.type?t.text=this.slideForm.value.text:t.file=this.attachment._id;let o=p.d.createSlide.replace(":id",this.courseId),s=this.apiService.post(o,t);this.slideId&&(o+="/"+this.slideId,s=this.apiService.put(o,t)),s.subscribe({next:r=>{this.alertService.notify(r.message),this.matDialog.close(r)},error:r=>{this.errorHandlingService.handle(r)},complete:()=>{this.apiCallActive=!1}})}}clearOthers(t){this.selectedSlideDetails[t]&&(this.slideForm.controls[t].setValue(this.selectedSlideDetails[t]),this.slideForm.controls[t].updateValueAndValidity()),"text"!=t?(this.fileObject={},this.uploadingInProgess=!1,this.uploadingProgress=0,this.attachment=null,this.slideForm.controls.file.setValue(""),this.slideForm.controls.file.setValidators([]),this.slideForm.controls.file.updateValueAndValidity()):(this.selectedSlideDetails?.text||this.slideForm.controls.text.setValue(""),this.slideForm.controls.text.setValidators([]),this.slideForm.controls.text.updateValueAndValidity())}setValidators(t,o){this.slideForm.controls[t].setValidators(o),this.slideForm.controls[t].updateValueAndValidity(),this.clearOthers(t)}typeUpdated(t){"text"===(this.selectedType=t,t)?(this.selectedFileSettings={},this.setValidators(t,[a.kI.required])):(this.selectedFileSettings=this.fileSettings.filter(o=>o.name===t),this.selectedFileSettings=this.selectedFileSettings[0],this.setValidators("file",[a.kI.required]))}uploadFiles(t){if(t.target.value){const o=t.target.files[0];this.fileObject.fileName=o.name,this.fileObject.fileExtension=o.name.split(".")[o.name.split(".").length-1].toLowerCase(),this.fileObject.fileSize=o.size;const s=this.selectedFileSettings.extensions;if(s.find(r=>r===this.fileObject.fileExtension))if(this.fileObject.fileSize>1e6*this.selectedFileSettings.maxSize)this.alertService.notify(`Please make sure your file is less than ${this.selectedFileSettings.maxSize} MB in size.`,"info");else{const r=new FormData;r.append("file",o),this.uploadFile(r)}else this.alertService.notify("Please make sure your file is in one of these formats: "+s,"info")}}uploadFile(t){this.uploadingInProgess=!0,this.apiCallActive=!0,this.attachment=null,this.http.post(Z.N.baseUrl+p.d.uploadFile+this.selectedFileSettings.name,t,{reportProgress:!0,observe:"events"}).pipe((0,R.U)(o=>{switch(o.type){case _.dt.Sent:break;case _.dt.ResponseHeader:this.uploadingInProgess=!1,this.apiCallActive=!1;break;case _.dt.UploadProgress:this.uploadingProgress=Math.round(o.loaded/o.total*100);break;case _.dt.Response:this.apiCallActive=!1;const s=o.body.file;console.log(s),this.attachment={...s},this.slideForm.controls.file.setValue([this.attachment.destination,this.attachment.name].join("/")),setTimeout(()=>{this.uploadingProgress=0},500)}})).subscribe()}formatBytes(t,o=2){if(0===t)return"0 Bytes";const r=o<=0?0:o||2,d=Math.floor(Math.log(t)/Math.log(1024));return"("+parseFloat((t/Math.pow(1024,d)).toFixed(r))+" "+["Bytes","KB","MB"][d]+")"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.so),e.Y36(g.WI),e.Y36(C.a),e.Y36(x.r),e.Y36(D.d),e.Y36(a.qu),e.Y36(_.eN),e.Y36(b.c),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-slide-form"]],decls:32,vars:21,consts:[["fxLayout","column",1,"container-div","create-slide-dialog"],["fxLayoutAlign","end flex-end",1,"mat-accent-bg","m-0"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between flex-end",1,"mat-toolbar-header"],[1,"title","dialog-title"],[1,"mat-button-wrapper","cursor-pointer",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","12","cy","12","r","10","stroke","#8F8F8F","stroke-width","1.5"],["d","M14.5 9.49999L9.5 14.5M9.49998 9.49997L14.5 14.4999","stroke","#8F8F8F","stroke-width","1.5","stroke-linecap","round"],["fxLayout","column",1,"content","p-20","mt-20"],["fx-layout","column",3,"formGroup"],["fxLayout","column","fxLayout.gt-xs","row"],["fxFlex","100"],["type","text","matInput","","formControlName","name","trim","","autocomplete","off","maxlength","50",3,"errorStateMatcher","readonly"],[4,"ngIf"],["align","end",4,"ngIf"],[1,"nav","nav-pills","nav-fill"],["class","nav-link ",3,"active","click",4,"ngFor","ngForOf"],["fxLayout","column","fxLayout.gt-xs","row","class","uploadImage",4,"ngIf"],["controls","","width","100%",3,"src",4,"ngIf"],["style","text-align: center;width: 100%;",4,"ngIf"],["class","tiny-editor",4,"ngIf"],["class","mat-accent-bg m-0 mt-12","fxLayoutAlign","center",4,"ngIf"],["align","end"],[1,"nav-link",3,"click"],["fxLayout","column","fxLayout.gt-xs","row",1,"uploadImage"],["id","file-upload-form",1,"uploader"],["id","file-upload","type","file","name","fileUpload",3,"accept","change"],["for","file-upload","id","file-drag",1,"c-label"],["id","response",4,"ngIf"],["aria-hidden","true",1,"fa","fa-download"],[1,"c-btn"],[1,"info"],["id","response"],["id","messages"],["max","100",1,"progress",3,"value"],["controls","","width","100%",3,"src"],[2,"text-align","center","width","100%"],["controls",""],[3,"src"],["class","material-icons",4,"ngIf"],[1,"material-icons"],[1,"tiny-editor"],["cloudChannel","6","formControlName","text","id","","initialValue","","tagName","div",3,"apiKey","disabled","init","inline"],["fxLayoutAlign","center",1,"mat-accent-bg","m-0","mt-12"],["fxlayout","row","fxLayoutAlign","flex-end","fxFlex","100",1,"mat-toolbar-footer","action-buttons"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span",3),e._uU(4),e.qZA(),e.TgZ(5,"span",4),e.NdJ("click",function(){return o.matDialog.close()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"circle",6)(8,"path",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",10)(13,"mat-label"),e._uU(14,"Slide Name "),e.qZA(),e.TgZ(15,"mat-form-field",11),e._UZ(16,"input",12),e.YNc(17,Qe,2,0,"mat-error",13),e.YNc(18,je,2,0,"mat-error",13),e.YNc(19,Be,2,0,"mat-error",13),e.YNc(20,ze,2,2,"mat-hint",14),e.qZA()(),e.TgZ(21,"div",10)(22,"mat-label"),e._uU(23,"Type"),e.qZA(),e.TgZ(24,"nav",15),e.YNc(25,He,3,5,"a",16),e.qZA()(),e.YNc(26,nt,8,7,"div",17),e.YNc(27,ot,2,1,"video",18),e.YNc(28,it,4,1,"div",19),e.YNc(29,rt,4,2,"div",19),e.YNc(30,lt,2,4,"div",20),e.qZA()()(),e.YNc(31,at,4,1,"mat-toolbar",21),e.qZA()),2&t&&(e.xp6(4),e.hij("",o.slideId?"Edit":"Create"," Slide"),e.xp6(6),e.Q6J("formGroup",o.slideForm),e.xp6(1),e.ekj("form-div",!o.isViewOnly)("mt-30",o.isViewOnly),e.xp6(4),e.ekj("mb-10",o.slideForm.controls.name.touched&&o.slideForm.controls.name.hasError("required")),e.xp6(1),e.Q6J("errorStateMatcher",o.matcher)("readonly",o.isViewOnly),e.xp6(1),e.Q6J("ngIf",o.slideForm.controls.name.hasError("required")),e.xp6(1),e.Q6J("ngIf",!o.slideForm.controls.name.hasError("required")&&!o.slideForm.controls.name.hasError("pattern")&&o.slideForm.controls.name.hasError("not_unique")),e.xp6(1),e.Q6J("ngIf",!o.slideForm.controls.name.hasError("required")&&o.slideForm.controls.name.hasError("pattern")),e.xp6(1),e.Q6J("ngIf",!o.isViewOnly),e.xp6(5),e.Q6J("ngForOf",o.types),e.xp6(1),e.Q6J("ngIf",("video"==o.selectedType||"audio"==o.selectedType||"pdf"==o.selectedType)&&!o.isViewOnly),e.xp6(1),e.Q6J("ngIf",!o.uploadingInProgess&&(o.attachment||(null==o.slideForm.controls[o.selectedFileSettings.key]?null:o.slideForm.controls[o.selectedFileSettings.key].value))&&"video"==o.selectedType||o.isViewOnly&&"video"==o.selectedSlideDetails.type),e.xp6(1),e.Q6J("ngIf",!o.uploadingInProgess&&(o.attachment||(null==o.slideForm.controls[o.selectedFileSettings.key]?null:o.slideForm.controls[o.selectedFileSettings.key].value))&&"audio"==o.selectedType||o.isViewOnly&&"audio"==o.selectedSlideDetails.type),e.xp6(1),e.Q6J("ngIf",!o.uploadingInProgess&&(o.attachment||(null==o.slideForm.controls[o.selectedFileSettings.key]?null:o.slideForm.controls[o.selectedFileSettings.key].value))&&"pdf"==o.selectedType||o.isViewOnly&&"pdf"==o.selectedSlideDetails.type),e.xp6(1),e.Q6J("ngIf","text"==o.selectedType||o.isViewOnly&&"text"==o.selectedSlideDetails.type),e.xp6(1),e.Q6J("ngIf",!o.isViewOnly))},dependencies:[Y,u.sg,u.O5,f.TO,f.KE,f.bx,f.hX,S.Nt,w.lW,P.Ye,a._Y,a.Fj,a.JJ,a.JL,a.nD,a.sg,a.u,u.rS],styles:[".mat-dialog-container{width:100%;padding:24px 32px}.nav{margin:16px 0}.nav .nav-link{background:#fff;border:1px solid #8F8F8F;border-radius:68px;color:#8f8f8f;font-size:12px;font-weight:700;line-height:16px;margin-right:8px;padding:8px 16px;width:-moz-fit-content;width:fit-content;flex:none;cursor:pointer}.nav .nav-link.active{background:#F5F8FF;color:#007aff;border-color:#007aff}.h-150{max-height:150px}.h-150 .mat-form-field-flex{height:150px}.c-btn{font-style:normal;font-weight:700;font-size:12px;line-height:24px;text-decoration-line:underline;color:#007aff}.info{font-family:Inter;font-style:normal;font-weight:500;font-size:12px;line-height:16px;color:#a0a5b0!important}.uploader label{width:100%;height:150px;border:1px solid #8F8F8F;display:flex;align-items:center;justify-content:center;margin-bottom:15px}.h-50{height:50px!important}progress::-webkit-progress-value{background:#007AFF}progress{color:#007aff}progress::-moz-progress-bar{background:#007AFF}.tiny-editor ::ng-deep .tox-tinymce{border:1px solid #8F8F8F!important}\n"],encapsulation:2}),n})();function dt(n,i){1&n&&(e.TgZ(0,"div",3),e._uU(1,"No slides found"),e.qZA())}function ut(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.reorderMode?s.saveOrder():s.reorderSlides())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.ekj("reorder-link",!t.reorderMode),e.xp6(1),e.hij(" ",t.reorderMode?"Save":"Reorder"," ")}}function mt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.cancelReorder())}),e._uU(1," Cancel "),e.qZA()}}function pt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openAddSlideForm(!1))}),e._uU(1," Create Slide "),e.qZA()}}function ht(n,i){1&n&&(e.TgZ(0,"div",20),e.O4$(),e.TgZ(1,"svg",21),e._UZ(2,"path",22),e.qZA()())}function gt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openAddSlideForm(!1,s))}),e.O4$(),e.TgZ(1,"svg",24),e._UZ(2,"path",25),e.qZA()()}}function ft(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const s=e.oxw().index,r=e.oxw(2);return e.KtG(r.delete(s))}),e.O4$(),e.TgZ(1,"svg",26),e._UZ(2,"path",27)(3,"path",28)(4,"path",29)(5,"path",30)(6,"path",31),e.qZA()()}}function _t(n,i){if(1&n&&(e.TgZ(0,"div",14),e.YNc(1,ht,3,0,"div",15),e.TgZ(2,"div",16),e._uU(3),e.qZA(),e.TgZ(4,"div",17),e._uU(5),e.ALo(6,"titlecase"),e.qZA(),e.TgZ(7,"div",18),e.YNc(8,gt,3,0,"button",19),e.YNc(9,ft,7,0,"button",19),e.qZA()()),2&n){const t=i.$implicit,o=i.index,s=e.oxw(2);e.xp6(1),e.Q6J("ngIf",s.reorderMode),e.xp6(2),e.Oqu(o+1),e.xp6(2),e.hij(" ",e.lcZ(6,5,t.name)," "),e.xp6(3),e.Q6J("ngIf",!s.reorderMode),e.xp6(1),e.Q6J("ngIf",!s.reorderMode)}}function vt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5),e.YNc(2,ut,2,3,"button",6),e.YNc(3,mt,2,0,"button",7),e.YNc(4,pt,2,0,"button",8),e.qZA(),e.TgZ(5,"div",9),e.NdJ("cdkDropListDropped",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.drop(s))}),e.YNc(6,_t,10,7,"div",10),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",(null==t.slides?null:t.slides.length)>=2),e.xp6(1),e.Q6J("ngIf",t.reorderMode),e.xp6(1),e.Q6J("ngIf",!t.reorderMode),e.xp6(2),e.Q6J("ngForOf",t.slides)}}let Ct=(()=>{class n{constructor(t,o,s,r,l,d){this.apiService=t,this.dialog=o,this.errorHandlingService=s,this.alertService=r,this.activeRoute=l,this.router=d,this.apiCallActive=!1,this.rootComments=[],this.slides=[],this.orderedSlides=[],this.reorderMode=!1,this.activeRoute.params.subscribe({next:({id:h})=>{this.courseId=h,this.getSlides()}})}ngOnInit(){}getSlides(){let t=p.d.slide.replace(":id",this.courseId);this.apiCallActive=!0,this.apiService.get(t).subscribe({next:o=>{this.apiCallActive=!1,this.slides=o.slides||[],this.orderedSlides=[...this.slides]},error:o=>{this.apiCallActive=!1,this.errorHandlingService.handle(o)}})}openAddSlideForm(t,o={}){this.addSlideDialogRef=this.dialog.open(ct,{minWidth:"620px",width:"640px",disableClose:!0,data:{isViewOnly:t,...o,totalSlides:this.slides.length,courseId:this.courseId}}),this.addSlideDialogRef.afterClosed().subscribe({next:s=>{s&&(this.router.navigate(["/dashboard/course/details/"+this.courseId],{skipLocationChange:!0}),this.getSlides())}})}delete(t){this.confirmDialogRef=this.dialog.open(F.$,{minWidth:"320px",width:"585px",disableClose:!0,data:{slide:this.slides[t],heading:"Delete slide",message:"Are you sure you want to delete this slide?"}}),this.confirmDialogRef.afterClosed().subscribe({next:o=>{o&&this.deleteSlide(this.slides[t]._id)}})}deleteSlide(t){this.apiService.put(p.d.updateSlide.replace(":id",this.courseId).replace(":slideid",t),{isDeleted:!0}).subscribe({next:o=>{this.slides=this.slides.filter(s=>s._id!=t),this.alertService.notify("Slide deleted successfully")},error:o=>this.errorHandlingService.handle(o)})}reorderSlides(){this.reorderMode=!this.reorderMode}cancelReorder(){this.reorderMode=!1,this.slides=[...this.orderedSlides]}saveOrder(){let t=p.d.reorderSildes.replace(":id",this.courseId);this.apiCallActive=!0,this.apiService.put(t,{slides:this.slides.map(o=>o._id)}).subscribe({next:o=>{this.apiCallActive=!1,this.reorderMode=!1,this.orderedSlides=[...this.slides],this.alertService.notify(o.message)},error:o=>{this.apiCallActive=!1,this.errorHandlingService.handle(o)}})}drop(t){(0,T.bA)(this.slides,t.previousIndex,t.currentIndex)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.a),e.Y36(g.uw),e.Y36(x.r),e.Y36(b.c),e.Y36(v.gz),e.Y36(v.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["slide-list"]],decls:3,vars:2,consts:[[1,"slide-list-wrapper"],["class","no-data",4,"ngIf"],["class","reorder-wrapper",4,"ngIf"],[1,"no-data"],[1,"reorder-wrapper"],[1,"ml-auto","my-10"],["mat-raised-button","","color","primary",3,"reorder-link","click",4,"ngIf"],["mat-raised-button","","color","default",3,"click",4,"ngIf"],["mat-raised-button","","color","primary","class","create-link",3,"click",4,"ngIf"],["cdkDropList","",1,"slide-list",3,"cdkDropListDropped"],["class","slide-box","cdkDrag","",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","default",3,"click"],["mat-raised-button","","color","primary",1,"create-link",3,"click"],["cdkDrag","",1,"slide-box"],["class","drag-icon",4,"ngIf"],[1,"mx-24","drag-index"],[1,"w-100","drag-content"],[1,"w-150px","delete-icon","flex","flex-row"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"drag-icon"],["cdkDragHandle","","width","7","height","40","viewBox","0 0 7 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.27277 10.8182C1.97568 10.8182 2.5455 11.388 2.5455 12.0909C2.5455 12.7938 1.97568 13.3636 1.27277 13.3636C0.569863 13.3636 4.48899e-05 12.7938 4.48899e-05 12.0909C4.48899e-05 11.388 0.569864 10.8182 1.27277 10.8182ZM2.5455 6.99999C2.5455 6.29708 1.97568 5.72726 1.27277 5.72726C0.569864 5.72726 4.48899e-05 6.29708 4.48899e-05 6.99999C4.48899e-05 7.7029 0.569863 8.27272 1.27277 8.27272C1.97568 8.27272 2.5455 7.7029 2.5455 6.99999ZM2.54545 1.90908C2.54545 1.20617 1.97564 0.636353 1.27273 0.636353C0.569819 0.636353 3.07227e-08 1.20617 0 1.90908C-3.07264e-08 2.61199 0.569819 3.18181 1.27273 3.18181C1.97564 3.18181 2.54545 2.61199 2.54545 1.90908ZM7.00004 1.90908C7.00004 1.20617 6.43023 0.636353 5.72732 0.636353C5.02441 0.636353 4.45459 1.20617 4.45459 1.90908C4.45459 2.61199 5.02441 3.18181 5.72732 3.18181C6.43023 3.18181 7.00004 2.61199 7.00004 1.90908ZM7.00004 6.99999C7.00004 6.29708 6.43023 5.72726 5.72732 5.72726C5.02441 5.72726 4.45459 6.29708 4.45459 6.99999C4.45459 7.7029 5.02441 8.27272 5.72732 8.27272C6.43023 8.27272 7.00004 7.7029 7.00004 6.99999ZM5.72732 10.8182C6.43023 10.8182 7.00004 11.388 7.00004 12.0909C7.00004 12.7938 6.43023 13.3636 5.72732 13.3636C5.02441 13.3636 4.45459 12.7938 4.45459 12.0909C4.45459 11.388 5.02441 10.8182 5.72732 10.8182Z","fill","#BFBFBF"],["mat-icon-button","",3,"click"],["width","17","height","17","viewBox","0 0 17 17","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.727 7.1703L9.82971 4.27301M1.5 15.5L3.95137 15.2276C4.25087 15.1943 4.40062 15.1777 4.54059 15.1324C4.66477 15.0922 4.78295 15.0354 4.89191 14.9635C5.01473 14.8826 5.12127 14.776 5.33436 14.5629L14.9 4.99734C15.7 4.19727 15.7 2.90011 14.9 2.10005C14.0999 1.29998 12.8027 1.29998 12.0027 2.10005L2.43707 11.6656C2.22399 11.8787 2.11745 11.9853 2.03646 12.1081C1.9646 12.2171 1.9078 12.3352 1.8676 12.4594C1.82229 12.5994 1.80565 12.7491 1.77237 13.0486L1.5 15.5Z","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["width","18","height","18","viewBox","0 0 18 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15.3749 4.5H2.62488","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M14.125 6.375L13.78 11.5493C13.6473 13.5405 13.5809 14.5361 12.9322 15.1431C12.2834 15.75 11.2856 15.75 9.29001 15.75H8.70999C6.71439 15.75 5.71659 15.75 5.06783 15.1431C4.41907 14.5361 4.3527 13.5405 4.21996 11.5493L3.875 6.375","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M7.125 8.25L7.5 12","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M10.875 8.25L10.5 12","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M4.875 4.5C4.91691 4.5 4.93786 4.5 4.95686 4.49952C5.57444 4.48387 6.11927 4.09118 6.32941 3.51024C6.33588 3.49237 6.3425 3.47249 6.35576 3.43273L6.42857 3.21429C6.49073 3.02781 6.52181 2.93457 6.56304 2.8554C6.72751 2.53955 7.03181 2.32023 7.38346 2.26407C7.4716 2.25 7.56988 2.25 7.76645 2.25H10.2336C10.4301 2.25 10.5284 2.25 10.6165 2.26407C10.9682 2.32023 11.2725 2.53955 11.437 2.8554C11.4782 2.93457 11.5093 3.02781 11.5714 3.21429L11.6442 3.43273C11.6575 3.47244 11.6641 3.49238 11.6706 3.51024C11.8807 4.09118 12.4256 4.48387 13.0431 4.49952C13.0621 4.5 13.0831 4.5 13.125 4.5","stroke","#7E7E7E","stroke-width","1.5"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,dt,2,0,"div",1),e.YNc(2,vt,7,4,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",!(null!=o.slides&&o.slides.length)),e.xp6(1),e.Q6J("ngIf",null==o.slides?null:o.slides.length))},dependencies:[u.sg,u.O5,w.lW,T.Wj,T.Zt,T.Bh,u.rS],styles:[".slide-list-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.create-link[_ngcontent-%COMP%], .reorder-link[_ngcontent-%COMP%]{font-family:Plus Jakarta Sans;font-size:14px;font-weight:700;text-align:left;color:#007aff;background-color:transparent!important;box-shadow:none!important;border:0!important}.reorder-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;width:100%}.reorder-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.slide-list[_ngcontent-%COMP%]{width:100%;max-width:100%;display:block;justify-content:space-between;background:white;border-radius:4px;box-sizing:border-box}.slide-box[_ngcontent-%COMP%]{padding:16px 24px;background-color:#f9f9f9;color:#000000de;display:flex;border-radius:8px;flex-direction:row;align-items:center;margin-bottom:4px;justify-content:space-between;box-sizing:border-box;font-size:14px;font-weight:500}.slide-box[_ngcontent-%COMP%]   .drag-icon[_ngcontent-%COMP%]{cursor:move}.container[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.drag-icon[_ngcontent-%COMP%]{position:relative}.drag-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:move}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.slide-list.cdk-drop-list-dragging[_ngcontent-%COMP%]   .slide-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"]}),n})(),xt=(()=>{class n{transform(t){const o=t.split(" ");return`${o[0].charAt(0).toUpperCase()}${o[o.length-1].charAt(0).toUpperCase()}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"initials",type:n,pure:!0}),n})();function bt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",3)(2,"div",4),e._uU(3),e.ALo(4,"initials"),e.qZA(),e.TgZ(5,"div",5)(6,"h5",6),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"span",25),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"button",26),e.NdJ("click",function(){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.delete(r))}),e.O4$(),e.TgZ(13,"svg",9),e._UZ(14,"path",10)(15,"path",11)(16,"path",12)(17,"path",13)(18,"path",14),e.qZA()(),e.kcU(),e.TgZ(19,"div",15)(20,"div",16)(21,"p"),e._uU(22),e.qZA()()()()()()}if(2&n){const t=i.$implicit;e.xp6(3),e.hij(" ",e.lcZ(4,4,t.author.fullName)," "),e.xp6(4),e.Oqu(e.lcZ(8,6,t.author.fullName)),e.xp6(3),e.Oqu(e.xi3(11,8,t.createdAt,"dd MMM yyyy hh:mm a")),e.xp6(12),e.Oqu(t.text)}}function wt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4),e._uU(3),e.ALo(4,"initials"),e.qZA(),e.TgZ(5,"div",5)(6,"h5",6),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"span",7),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"button",8),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.delete(s.comment))}),e.O4$(),e.TgZ(13,"svg",9),e._UZ(14,"path",10)(15,"path",11)(16,"path",12)(17,"path",13)(18,"path",14),e.qZA()(),e.kcU(),e.TgZ(19,"div",15)(20,"div",16)(21,"p"),e._uU(22),e.qZA()(),e.YNc(23,bt,23,11,"div",17),e.TgZ(24,"div",18)(25,"form",19)(26,"div",20)(27,"mat-form-field",21),e._UZ(28,"textarea",22),e.qZA()(),e.TgZ(29,"button",23),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.addComment(s.comment._id))}),e._uU(30," Reply "),e.qZA()()()()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,7,t.comment.author.fullName)," "),e.xp6(4),e.hij("",e.lcZ(8,9,t.comment.author.fullName)," "),e.xp6(3),e.Oqu(e.xi3(11,11,t.comment.createdAt,"dd MMM yyyy hh:mm a")),e.xp6(12),e.Oqu(t.comment.text),e.xp6(1),e.Q6J("ngForOf",t.comment.children),e.xp6(2),e.Q6J("formGroup",t.replyForm),e.xp6(4),e.Q6J("disabled",t.replyForm.invalid)}}function yt(n,i){1&n&&(e.TgZ(0,"div")(1,"div",27),e._uU(2,"No comments found"),e.qZA()())}let Ft=(()=>{class n{constructor(t,o,s,r,l){this.apiService=t,this.dialog=o,this.fb=s,this.errorHandlingService=r,this.alertService=l,this.apiCallActive=!1,this.replyForm=this.fb.group({comment:["",[a.kI.required]]})}getComments(){this.apiCallActive=!0,this.apiService.get(p.d.getComments.replace(":id",this.courseId)).subscribe({next:({comments:t})=>{this.apiCallActive=!1,this.comment=t?.length?t[0]:{}},error:t=>{this.apiCallActive=!1,this.errorHandlingService.handle(t)}})}ngOnInit(){console.log(this.comment),this.getComments()}delete(t){this.confirmDialogRef=this.dialog.open(F.$,{minWidth:"320px",width:"585px",disableClose:!0,data:{heading:"Delete slide",message:"Are you sure you want to delete this comment?"}}),this.confirmDialogRef.afterClosed().subscribe({next:o=>{o&&this.deleteComment(t._id)}})}deleteComment(t){this.apiService.put(p.d.deleteComment.replace(":id",this.courseId).replace(":commentId",t),{isDeleted:!0}).subscribe({next:o=>{this.comment._id===t?this.comment=null:this.comment.children?.length&&this.comment.children.forEach((s,r)=>{s._id===t&&this.comment.children.splice(r,1)})},error:o=>this.errorHandlingService.handle(o)})}addComment(t){this.replyForm.valid&&this.apiService.post(p.d.addComment.replace(":id",this.courseId),{text:this.replyForm.value.comment,parent:t}).subscribe({next:o=>{console.log(o);let s=o.comment;s.author={_id:s.author,fullName:"Admin"},this.comment.children.push(s),this.replyForm.controls.comment.setValue("")},error:o=>this.errorHandlingService.handle(o)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.a),e.Y36(g.uw),e.Y36(a.qu),e.Y36(x.r),e.Y36(b.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["comment"]],inputs:{comment:"comment",courseId:"courseId"},decls:2,vars:2,consts:[["class","comment",4,"ngIf"],[4,"ngIf"],[1,"comment"],[1,"user-banner"],[1,"avatar"],[1,"user"],[1,"name"],[1,"is-mute","ml-auto","createdAt"],["mat-icon-button","",1,"",3,"click"],["width","18","height","18","viewBox","0 0 18 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15.3749 4.5H2.62488","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M14.125 6.375L13.78 11.5493C13.6473 13.5405 13.5809 14.5361 12.9322 15.1431C12.2834 15.75 11.2856 15.75 9.29001 15.75H8.70999C6.71439 15.75 5.71659 15.75 5.06783 15.1431C4.41907 14.5361 4.3527 13.5405 4.21996 11.5493L3.875 6.375","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M7.125 8.25L7.5 12","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M10.875 8.25L10.5 12","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M4.875 4.5C4.91691 4.5 4.93786 4.5 4.95686 4.49952C5.57444 4.48387 6.11927 4.09118 6.32941 3.51024C6.33588 3.49237 6.3425 3.47249 6.35576 3.43273L6.42857 3.21429C6.49073 3.02781 6.52181 2.93457 6.56304 2.8554C6.72751 2.53955 7.03181 2.32023 7.38346 2.26407C7.4716 2.25 7.56988 2.25 7.76645 2.25H10.2336C10.4301 2.25 10.5284 2.25 10.6165 2.26407C10.9682 2.32023 11.2725 2.53955 11.437 2.8554C11.4782 2.93457 11.5093 3.02781 11.5714 3.21429L11.6442 3.43273C11.6575 3.47244 11.6641 3.49238 11.6706 3.51024C11.8807 4.09118 12.4256 4.48387 13.0431 4.49952C13.0621 4.5 13.0831 4.5 13.125 4.5","stroke","#7E7E7E","stroke-width","1.5"],[1,"content"],[1,"flex","flex-row"],["class","reply-body comment",4,"ngFor","ngForOf"],[1,"footer"],[3,"formGroup"],["fxLayout","column","fxLayout.gt-xs","row",1,"h-150"],["fxFlex","100"],["matInput","","rows","3","formControlName","comment","trim","","autocomplete","off"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"reply-body","comment"],[1,"is-mute","createdAt","ml-auto"],["mat-icon-button","",3,"click"],[1,"no-data","flex-start"]],template:function(t,o){1&t&&(e.YNc(0,wt,31,14,"div",0),e.YNc(1,yt,3,0,"div",1)),2&t&&(e.Q6J("ngIf",o.comment&&(null==o.comment?null:o.comment._id)),e.xp6(1),e.Q6J("ngIf",!o.comment||!o.comment._id))},dependencies:[u.sg,u.O5,f.KE,S.Nt,w.lW,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,u.rS,u.uU,xt],styles:[".ml-auto{margin-left:auto}.w-100{width:100%}.content .name{font-size:14px;font-weight:700;line-height:18px;letter-spacing:0px;color:#1d1d1d}.content .footer{display:flex;flex-direction:column;align-items:flex-start}.content .footer textarea{max-width:500px;width:100%;padding:8px 16px;height:96px;border:1px solid #E9EBF0;border-radius:8px}.content .footer>div{display:flex;flex-direction:row;gap:10px}::placeholder{padding:8px 16px}.content p{font-size:14px;font-weight:400;line-height:24px;letter-spacing:0px;color:#6d6d6d;margin-bottom:0}.reply{background-color:transparent!important;width:-moz-fit-content;width:fit-content;border:0!important;font-size:14px!important;font-weight:700!important;color:#007aff!important;box-shadow:none!important;padding:0!important}.createdAt{font-size:11px;font-weight:600;line-height:24px;font-style:italic;margin-right:20px}.mat-card{background-color:transparent}.mat-card .comment{border-radius:8px}.comment .user-banner{display:flex;justify-content:space-between;background:#F9F9F9;padding:16px;border-radius:8px}.mat-form-field-infix{width:430px!important;height:100px!important}.mat-form-field-flex{line-height:25px;border:0!important;padding:0!important;width:430px!important;height:100px!important}\n"],encapsulation:2}),n})();var m=c(7155),Zt=c(3238),te=c(7957);function Tt(n,i){if(1&n&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.Q6J("value",t.email),e.xp6(1),e.hij(" ",t.email+(t.fullName?" ("+t.fullName+")":"")," ")}}function St(n,i){if(1&n&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.enrollForm.controls.user.value?"No match found":"Type to search for users"," ")}}function Mt(n,i){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Required "),e.qZA())}let At=(()=>{class n{constructor(t,o,s,r,l,d,h,y,q){this.matDialog=t,this.data=o,this.apiService=s,this.errorHandlingService=r,this.matcher=l,this.fb=d,this.http=h,this.alertService=y,this.activeRoute=q,this.apiCallActive=!1,this.filteredUsers=[],console.log(o),this.courseId=o.courseId,this.enrollForm=this.fb.group({user:["",a.kI.required]}),this.enrollForm.controls.user.valueChanges.pipe((0,I.b)(500)).subscribe({next:U=>{this.getUsersToEnroll(U)}})}displayFn(t){return t?t.email:""}getUsersToEnroll(t){let o=p.d.getUsersToEnroll.replace(":id",this.courseId);t?(o+="?search="+t.toLowerCase(),this.apiService.get(o).subscribe({next:s=>{this.filteredUsers=s.users},error:s=>{this.apiCallActive=!1,this.errorHandlingService.handle(s)}})):this.filteredUsers=[]}changed(t){console.log(t),this.selectedOption=t.value}ngOnInit(){}enrollUser(){this.enrollForm.valid&&this.selectedOption==this.enrollForm.value.user&&this.apiService.post(p.d.courseEnrollment.replace(":id",this.courseId),{user:this.enrollForm.value.user}).subscribe({next:t=>{this.alertService.notify(t.message),this.matDialog.close(t)},error:t=>this.errorHandlingService.handle(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.so),e.Y36(g.WI),e.Y36(C.a),e.Y36(x.r),e.Y36(D.d),e.Y36(a.qu),e.Y36(_.eN),e.Y36(b.c),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-new-enrollment"]],decls:25,vars:6,consts:[["fxLayout","column",1,"container-div"],["fxLayoutAlign","end flex-end",1,"mat-accent-bg","m-0"],["fxFlex","100","fxLayout","row","fxLayoutAlign","space-between flex-end",1,"mat-toolbar-header"],[1,"title","dialog-title"],[1,"mat-button-wrapper","cursor-pointer",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","12","cy","12","r","10","stroke","#8F8F8F","stroke-width","1.5"],["d","M14.5 9.49999L9.5 14.5M9.49998 9.49997L14.5 14.4999","stroke","#8F8F8F","stroke-width","1.5","stroke-linecap","round"],["fxLayout","column",1,"content","p-20","mt-20"],["fx-layout","column",3,"formGroup"],["fxLayout","column","fxLayout.gt-xs","row"],["type","text","matInput","","formControlName","user",3,"matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["disabled","",4,"ngIf"],[4,"ngIf"],["fxLayoutAlign","center",1,"mat-accent-bg","m-0","mt-12"],["fxlayout","row","fxLayoutAlign","flex-end","fxFlex","100",1,"mat-toolbar-footer","action-buttons"],["type","submit","mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],["disabled",""]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"div",2)(3,"span",3),e._uU(4,"Enroll User"),e.qZA(),e.TgZ(5,"span",4),e.NdJ("click",function(){return o.matDialog.close()}),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"circle",6)(8,"path",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"mat-label"),e._uU(13,"User "),e.qZA(),e.TgZ(14,"mat-form-field"),e._UZ(15,"input",11),e.TgZ(16,"mat-autocomplete",12,13),e.NdJ("optionSelected",function(r){return o.changed(r.option)}),e.YNc(18,Tt,2,2,"mat-option",14),e.YNc(19,St,2,1,"mat-option",15),e.qZA(),e.YNc(20,Mt,2,0,"mat-error",16),e.qZA()()()(),e.TgZ(21,"mat-toolbar",17)(22,"div",18)(23,"button",19),e.NdJ("click",function(){return o.enrollUser()}),e._uU(24,"Enroll"),e.qZA()()()()),2&t){const s=e.MAs(17);e.xp6(10),e.Q6J("formGroup",o.enrollForm),e.xp6(5),e.Q6J("matAutocomplete",s),e.xp6(3),e.Q6J("ngForOf",o.filteredUsers),e.xp6(1),e.Q6J("ngIf",!o.filteredUsers.length),e.xp6(1),e.Q6J("ngIf",o.selectedOption!=o.enrollForm.controls.user.value||o.enrollForm.controls.user.hasError("required")),e.xp6(3),e.Q6J("disabled",o.enrollForm.invalid||o.selectedOption!=o.enrollForm.controls.user.value||o.apiCallActive)}},dependencies:[u.sg,u.O5,f.TO,f.KE,f.hX,S.Nt,w.lW,P.Ye,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,Zt.ey,te.XC,te.ZL]}),n})();function kt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"button",5),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openEnrollUserForm())}),e._uU(2," Enroll new "),e.qZA()()}}function Et(n,i){if(1&n&&(e.TgZ(0,"p",6),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" There is no ","paid"==t.courseDetails.type?"enrollment requested":"user enrolled"," yet!\n")}}function qt(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1,"#"),e.qZA())}function Ut(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const t=i.index;e.xp6(1),e.hij(" ",t+1," ")}}function It(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," User Name "),e.qZA())}function Ot(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"titlecase"),e.ALo(3,"titlecase"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null!=t&&t.enrollmentRequestedBy?e.lcZ(2,1,null==t||null==t.enrollmentRequestedBy?null:t.enrollmentRequestedBy.fullName):e.lcZ(3,3,null==t||null==t.user?null:t.user.fullName)," ")}}function Dt(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," Email "),e.qZA())}function Pt(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null!=t&&t.enrollmentRequestedBy?null==t||null==t.enrollmentRequestedBy?null:t.enrollmentRequestedBy.email:null==t||null==t.user?null:t.user.email," ")}}function Nt(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," Enrolled On "),e.qZA())}function Lt(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.enrolledOn,"dd/MM/yyyy")," ")}}function Yt(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," Request Status "),e.qZA())}function Jt(n,i){if(1&n&&(e.TgZ(0,"td",19),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,t.requestStatus)," ")}}function Rt(n,i){1&n&&(e.ynx(0,20),e.YNc(1,Yt,2,0,"th",9),e.YNc(2,Jt,3,3,"td",10),e.BQk())}function Qt(n,i){1&n&&(e.TgZ(0,"th",18),e._uU(1," Actions "),e.qZA())}function jt(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"td",19)(1,"button",21),e.NdJ("click",function(){const s=e.CHM(t),r=s.index,l=s.$implicit,d=e.oxw(2);return e.KtG(d.openConfirmDialog(r,l))}),e.O4$(),e.TgZ(2,"svg",22),e._UZ(3,"path",23)(4,"path",24)(5,"path",25)(6,"path",26)(7,"path",27),e.qZA()()()}}function Bt(n,i){1&n&&e._UZ(0,"tr",28)}function zt(n,i){1&n&&e._UZ(0,"tr",29)}function Ht(n,i){if(1&n&&(e.TgZ(0,"div")(1,"table",7),e.ynx(2,8),e.YNc(3,qt,2,0,"th",9),e.YNc(4,Ut,2,1,"td",10),e.BQk(),e.ynx(5,11),e.YNc(6,It,2,0,"th",9),e.YNc(7,Ot,4,5,"td",10),e.BQk(),e.ynx(8,12),e.YNc(9,Dt,2,0,"th",9),e.YNc(10,Pt,2,1,"td",10),e.BQk(),e.ynx(11,13),e.YNc(12,Nt,2,0,"th",9),e.YNc(13,Lt,3,4,"td",10),e.BQk(),e.YNc(14,Rt,3,0,"ng-container",14),e.ynx(15,15),e.YNc(16,Qt,2,0,"th",9),e.YNc(17,jt,8,0,"td",10),e.BQk(),e.YNc(18,Bt,1,0,"tr",16),e.YNc(19,zt,1,0,"tr",17),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.dataSource),e.xp6(13),e.Q6J("ngIf","paid"==(null==t.courseDetails?null:t.courseDetails.type)),e.xp6(4),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}let Vt=(()=>{class n{constructor(t,o,s,r){this.apiService=t,this.dialog=o,this.errorHandlingService=s,this.alertService=r,this.apiCallActive=!0}ngOnInit(){this.displayedColumns="paid"==this.courseDetails?.type?["id","user","email","enrolledOn","requestStatus","action"]:["id","user","email","enrolledOn","action"],this.selectedCourseId=this.courseDetails._id,this.getEnrolledUsers()}getEnrolledUsers(){this.apiCallActive=!0,this.apiService.get(p.d.getEnrollments.replace(":id",this.selectedCourseId)).subscribe({next:t=>{this.apiCallActive=!1,this.dataSource=new m.by(t.enrollments||[])},error:t=>{this.apiCallActive=!1,this.errorHandlingService.handle(t)}})}openConfirmDialog(t,o,s={}){this.addEnrollmentDialogRef=this.dialog.open(F.$,{minWidth:"320px",width:"585px",disableClose:!0,data:{enrollment:o,heading:"Remove Enrollment",message:"Are you sure you want to remove this enrollment?"}}),this.addEnrollmentDialogRef.afterClosed().subscribe({next:r=>{r&&this.manageEnrollment(t,o)}})}manageEnrollment(t,o){console.log(o),this.apiService.put(p.d.manageEnrollment.replace(":id",this.selectedCourseId).replace(":enrollmentId",o._id),{isDeleted:!0}).subscribe({next:s=>{this.dataSource.data.splice(t,1),this.dataSource=new m.by(this.dataSource.data||[])},error:s=>this.errorHandlingService.handle(s)})}openEnrollUserForm(){this.addEnrollmentDialogRef=this.dialog.open(At,{minWidth:"320px",width:"585px",disableClose:!0,data:{courseId:this.selectedCourseId}}),this.addEnrollmentDialogRef.afterClosed().subscribe({next:t=>{t&&this.getEnrolledUsers()}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.a),e.Y36(g.uw),e.Y36(x.r),e.Y36(b.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["manage-enrollment"]],inputs:{courseDetails:"courseDetails"},decls:4,vars:3,consts:[[1,"flex-row"],["class","title-buttons ",4,"ngIf"],["class","no-data flex-start",4,"ngIf"],[4,"ngIf"],[1,"title-buttons"],["mat-raised-button","","color","primary",3,"click"],[1,"no-data","flex-start"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","user"],["matColumnDef","email"],["matColumnDef","enrolledOn"],["matColumnDef","requestStatus",4,"ngIf"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["matColumnDef","requestStatus"],["mat-icon-button","","color","warn","aria-label","delete",3,"click"],["width","18","height","18","viewBox","0 0 18 18","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M15.3749 4.5H2.62488","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M14.125 6.375L13.78 11.5493C13.6473 13.5405 13.5809 14.5361 12.9322 15.1431C12.2834 15.75 11.2856 15.75 9.29001 15.75H8.70999C6.71439 15.75 5.71659 15.75 5.06783 15.1431C4.41907 14.5361 4.3527 13.5405 4.21996 11.5493L3.875 6.375","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M7.125 8.25L7.5 12","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M10.875 8.25L10.5 12","stroke","#7E7E7E","stroke-width","1.5","stroke-linecap","round"],["d","M4.875 4.5C4.91691 4.5 4.93786 4.5 4.95686 4.49952C5.57444 4.48387 6.11927 4.09118 6.32941 3.51024C6.33588 3.49237 6.3425 3.47249 6.35576 3.43273L6.42857 3.21429C6.49073 3.02781 6.52181 2.93457 6.56304 2.8554C6.72751 2.53955 7.03181 2.32023 7.38346 2.26407C7.4716 2.25 7.56988 2.25 7.76645 2.25H10.2336C10.4301 2.25 10.5284 2.25 10.6165 2.26407C10.9682 2.32023 11.2725 2.53955 11.437 2.8554C11.4782 2.93457 11.5093 3.02781 11.5714 3.21429L11.6442 3.43273C11.6575 3.47244 11.6641 3.49238 11.6706 3.51024C11.8807 4.09118 12.4256 4.48387 13.0431 4.49952C13.0621 4.5 13.0831 4.5 13.125 4.5","stroke","#7E7E7E","stroke-width","1.5"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,kt,3,0,"div",1),e.qZA(),e.YNc(2,Et,2,1,"p",2),e.YNc(3,Ht,20,4,"div",3)),2&t&&(e.xp6(1),e.Q6J("ngIf","private"==o.courseDetails.type),e.xp6(1),e.Q6J("ngIf",!o.apiCallActive&&(null==o.dataSource||null==o.dataSource.filteredData?null:o.dataSource.filteredData.length)<=0),e.xp6(1),e.Q6J("ngIf",!o.apiCallActive&&(null==o.dataSource||null==o.dataSource.filteredData?null:o.dataSource.filteredData.length)>0))},dependencies:[u.O5,w.lW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,u.rS,u.uU],styles:[".flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding:8px}.flex-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:50%}.flex-row[_ngcontent-%COMP%]   .title-buttons[_ngcontent-%COMP%]{margin-left:auto}table[_ngcontent-%COMP%]{box-shadow:none;border-top:0}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-radius:8px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{margin-bottom:10px;font-size:13px;font-weight:700;line-height:22px;color:#3f3f3f;background-color:#f9f9f9}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px;word-break:break-all}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:100px;align-content:flex-end}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%]{width:25px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fff!important;font-size:12px;font-weight:600;color:#8f8f8f;border-top:0}table[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{line-height:13px;font-size:16px}tr.mat-row[_ngcontent-%COMP%]{border:white solid 4px;border-radius:8px}"]}),n})();function $t(n,i){1&n&&(e.TgZ(0,"div",5)(1,"h1",6),e._uU(2," Enrollment Requests "),e.qZA()())}function Gt(n,i){1&n&&e._UZ(0,"mat-divider",7)}function Kt(n,i){1&n&&(e.TgZ(0,"p",8),e._uU(1," There is no enrollment requests yet!\n"),e.qZA())}function Wt(n,i){1&n&&(e.TgZ(0,"th",20),e._uU(1,"#"),e.qZA())}function Xt(n,i){if(1&n&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&n){const t=i.index;e.xp6(1),e.hij(" ",t+1," ")}}function en(n,i){1&n&&(e.TgZ(0,"th",20),e._uU(1," User Name "),e.qZA())}function tn(n,i){if(1&n&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==t||null==t.enrollmentRequestedBy?null:t.enrollmentRequestedBy.fullName)," ")}}function nn(n,i){1&n&&(e.TgZ(0,"th",20),e._uU(1," Email "),e.qZA())}function on(n,i){if(1&n&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",null==t||null==t.enrollmentRequestedBy?null:t.enrollmentRequestedBy.email," ")}}function sn(n,i){1&n&&(e.TgZ(0,"th",20),e._uU(1," Requested On "),e.qZA())}function rn(n,i){if(1&n&&(e.TgZ(0,"td",21),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.enrollmentRequestedOn,"dd/MM/yyyy")," ")}}function ln(n,i){1&n&&(e.TgZ(0,"th",20),e._uU(1," Actions "),e.qZA())}function an(n,i){if(1&n){const t=e.EpF();e.O4$(),e.TgZ(0,"svg",24),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),r=s.index,l=s.$implicit,d=e.oxw(2);return e.KtG(d.manageRequest(r,l,"Accept"))}),e._UZ(1,"path",25),e.qZA()}}function cn(n,i){if(1&n){const t=e.EpF();e.O4$(),e.TgZ(0,"svg",24),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(),r=s.index,l=s.$implicit,d=e.oxw(2);return e.KtG(d.manageRequest(r,l,"Decline"))}),e._UZ(1,"line",26)(2,"line",27),e.qZA()}}function dn(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.requestStatus))}}function un(n,i){if(1&n&&(e.TgZ(0,"td",22),e.YNc(1,an,2,0,"svg",23),e.YNc(2,cn,3,0,"svg",23),e.YNc(3,dn,3,3,"span",4),e.qZA()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf","pending"===t.requestStatus),e.xp6(1),e.Q6J("ngIf","pending"===t.requestStatus),e.xp6(1),e.Q6J("ngIf","pending"!==t.requestStatus)}}function mn(n,i){1&n&&e._UZ(0,"tr",28)}function pn(n,i){1&n&&e._UZ(0,"tr",29)}function hn(n,i){if(1&n&&(e.TgZ(0,"div")(1,"table",9),e.ynx(2,10),e.YNc(3,Wt,2,0,"th",11),e.YNc(4,Xt,2,1,"td",12),e.BQk(),e.ynx(5,13),e.YNc(6,en,2,0,"th",11),e.YNc(7,tn,3,3,"td",12),e.BQk(),e.ynx(8,14),e.YNc(9,nn,2,0,"th",11),e.YNc(10,on,2,1,"td",12),e.BQk(),e.ynx(11,15),e.YNc(12,sn,2,0,"th",11),e.YNc(13,rn,3,4,"td",12),e.BQk(),e.ynx(14,16),e.YNc(15,ln,2,0,"th",11),e.YNc(16,un,4,3,"td",17),e.BQk(),e.YNc(17,mn,1,0,"tr",18),e.YNc(18,pn,1,0,"tr",19),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}let gn=(()=>{class n{constructor(t,o,s,r){this.apiService=t,this.dialog=o,this.errorHandlingService=s,this.alertService=r,this.apiCallActive=!0}ngOnInit(){this.displayedColumns=["id","user","email","enrollmentRequestedOn","action"],this.selectedCourseId=this.courseDetails._id,this.getEnrollmentRequests()}getEnrollmentRequests(){this.apiCallActive=!0,this.apiService.get(p.d.getEnrollmentRequests.replace(":id",this.selectedCourseId)).subscribe({next:t=>{this.apiCallActive=!1,this.dataSource=new m.by(t.enrollmentRequests||[])},error:t=>{this.apiCallActive=!1,this.errorHandlingService.handle(t)}})}manageRequest(t,o,s){this.openConfirmDialog(t,o,{request:o,action:s,heading:s+" Enrollment Request",message:"Are you sure you want to "+s.toLowerCase()+" this course enrollment request?"})}openConfirmDialog(t,o,s={}){this.manageRequestDialogRef=this.dialog.open(F.$,{minWidth:"320px",width:"585px",disableClose:!0,data:s}),this.manageRequestDialogRef.afterClosed().subscribe({next:r=>{r&&this.manageEnrollRequest(t,o,s)}})}manageEnrollRequest(t,o,s){this.apiService.put(p.d.manageEnrollmentRequest.replace(":id",this.selectedCourseId).replace(":enrollmentId",o._id),{isEnrolled:"accept"==s.action.toLowerCase()}).subscribe({next:r=>{this.getEnrollmentRequests(),this.alertService.notify(r.message)},error:r=>this.errorHandlingService.handle(r)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.a),e.Y36(g.uw),e.Y36(x.r),e.Y36(b.c))},n.\u0275cmp=e.Xpm({type:n,selectors:[["manage-enrollment-requests"]],inputs:{courseDetails:"courseDetails"},decls:5,vars:4,consts:[[1,"flex-row"],["class","title",4,"ngIf"],["fxFlex","1 0",4,"ngIf"],["class","no-data flex-start",4,"ngIf"],[4,"ngIf"],[1,"title"],[1,"mat-h1"],["fxFlex","1 0"],[1,"no-data","flex-start"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","user"],["matColumnDef","email"],["matColumnDef","enrollmentRequestedOn"],["matColumnDef","action"],["mat-cell","","class","action-buttons",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-buttons"],["class","cursor-pointer","width","54","height","54","viewBox","0 0 54 54","fill","none","xmlns","http://www.w3.org/2000/svg",3,"click",4,"ngIf"],["width","54","height","54","viewBox","0 0 54 54","fill","none","xmlns","http://www.w3.org/2000/svg",1,"cursor-pointer",3,"click"],["d","M19.5 28.5L23.25 32.25L34.5 21","stroke","#06EF7F","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["x1","19.5","y1","19.5","x2","34.5","y2","34.5","stroke","#FF0000","stroke-width","2"],["x1","34.5","y1","19.5","x2","19.5","y2","34.5","stroke","#FF0000","stroke-width","2"],["mat-header-row",""],["mat-row",""]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,$t,3,0,"div",1),e.qZA(),e.YNc(2,Gt,1,0,"mat-divider",2),e.YNc(3,Kt,2,0,"p",3),e.YNc(4,hn,19,3,"div",4)),2&t&&(e.xp6(1),e.Q6J("ngIf",(null==o.dataSource||null==o.dataSource.filteredData?null:o.dataSource.filteredData.length)>0),e.xp6(1),e.Q6J("ngIf",(null==o.dataSource||null==o.dataSource.filteredData?null:o.dataSource.filteredData.length)>0),e.xp6(1),e.Q6J("ngIf",!o.apiCallActive&&(null==o.dataSource||null==o.dataSource.filteredData?null:o.dataSource.filteredData.length)<=0),e.xp6(1),e.Q6J("ngIf",!o.apiCallActive&&(null==o.dataSource||null==o.dataSource.filteredData?null:o.dataSource.filteredData.length)>0))},dependencies:[u.O5,Q.d,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,u.rS,u.uU],styles:[".flex-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;padding:8px}.flex-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:50%}.flex-row[_ngcontent-%COMP%]   .title-buttons[_ngcontent-%COMP%]{margin-left:auto}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:20px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{align-content:flex-end}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px;word-break:break-all}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{text-align:center;width:145px!important}"]}),n})();function fn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"nav",5)(3,"a",6),e.O4$(),e.TgZ(4,"svg",7),e._UZ(5,"path",8),e.qZA(),e._uU(6,"\xa0 Back "),e.qZA(),e.kcU(),e.TgZ(7,"ol",9)(8,"li",10)(9,"a",11),e._uU(10,"Course List"),e.qZA()(),e.TgZ(11,"li",12),e._uU(12),e.ALo(13,"titlecase"),e.qZA()(),e.TgZ(14,"div",13),e._uU(15," Published "),e.TgZ(16,"mat-slide-toggle",14),e.NdJ("ngModelChange",function(s){e.CHM(t);const r=e.oxw();return e.KtG(r.courseDetails.isPublished=s)}),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.MGl("routerLink","/dashboard/course/list/",null==t.courseDetails?null:t.courseDetails.type,""),e.xp6(9),e.Oqu(e.lcZ(13,3,null==t.courseDetails?null:t.courseDetails.name)),e.xp6(4),e.Q6J("ngModel",t.courseDetails.isPublished)}}function _n(n,i){1&n&&(e.TgZ(0,"p",15),e._uU(1," Course details not found!\n"),e.qZA())}function vn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.activeSlide=4)}),e._uU(1," Enrollment Requests "),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("active",4==t.activeSlide)}}function Cn(n,i){1&n&&(e.TgZ(0,"div",23),e._UZ(1,"slide-list"),e.qZA())}function xn(n,i){1&n&&(e.TgZ(0,"div",26),e._uU(1,"No comments found"),e.qZA())}function bn(n,i){if(1&n&&(e.TgZ(0,"mat-card"),e._UZ(1,"comment",27),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("courseId",t.courseDetails._id)}}function wn(n,i){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,xn,2,0,"div",24),e.YNc(2,bn,2,1,"mat-card",25),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!(null!=t.rootComments&&t.rootComments.length)),e.xp6(1),e.Q6J("ngForOf",t.rootComments)}}function yn(n,i){if(1&n&&(e.TgZ(0,"div",23),e._UZ(1,"manage-enrollment",28),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("courseDetails",t.courseDetails)}}function Fn(n,i){if(1&n&&(e.TgZ(0,"div",23),e._UZ(1,"manage-enrollment-requests",28),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("courseDetails",t.courseDetails)}}function Zn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",16)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title",17),e._uU(4),e.ALo(5,"titlecase"),e.qZA()(),e.TgZ(6,"mat-card-content")(7,"div",18)(8,"p"),e._uU(9),e.qZA()(),e.TgZ(10,"nav",19)(11,"a",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.activeSlide=1)}),e._uU(12," Slides "),e.qZA(),e.TgZ(13,"a",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.activeSlide=2)}),e._uU(14," Comments "),e.qZA(),e.TgZ(15,"a",20),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.activeSlide=3)}),e._uU(16," Enrollments "),e.qZA(),e.YNc(17,vn,2,1,"a",21),e.qZA(),e.YNc(18,Cn,2,0,"div",22),e.YNc(19,wn,3,2,"div",22),e.YNc(20,yn,2,1,"div",22),e.YNc(21,Fn,2,1,"div",22),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,10,null==t.courseDetails?null:t.courseDetails.name)),e.xp6(5),e.Oqu(null==t.courseDetails?null:t.courseDetails.description),e.xp6(2),e.Q6J("active",1==t.activeSlide),e.xp6(2),e.Q6J("active",2==t.activeSlide),e.xp6(2),e.Q6J("active",3==t.activeSlide),e.xp6(2),e.Q6J("ngIf","paid"==(null==t.courseDetails?null:t.courseDetails.type)),e.xp6(1),e.Q6J("ngIf",1==t.activeSlide),e.xp6(1),e.Q6J("ngIf",2==t.activeSlide),e.xp6(1),e.Q6J("ngIf",3==t.activeSlide),e.xp6(1),e.Q6J("ngIf",4==t.activeSlide&&"paid"==(null==t.courseDetails?null:t.courseDetails.type))}}let Tn=(()=>{class n{constructor(t,o,s,r,l){this.apiService=t,this.dialog=o,this.errorHandlingService=s,this.alertService=r,this.activeRoute=l,this.activeSlide=1,this.apiCallActive=!0,this.rootComments=[],this.activeRoute.params.subscribe({next:d=>{this.selectedCourseId=d.id,this.getCourseDetails()}})}ngOnInit(){}getCourseDetails(){this.apiCallActive=!0,this.apiService.get(p.d.getCourseDetails+this.selectedCourseId).subscribe({next:t=>{this.apiCallActive=!1,this.courseDetails=t.course,this.rootComments=this.courseDetails.rootComments},error:t=>{this.apiCallActive=!1,this.errorHandlingService.handle(t)}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.a),e.Y36(g.uw),e.Y36(x.r),e.Y36(b.c),e.Y36(v.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-course-details"]],decls:3,vars:3,consts:[["class","row",4,"ngIf"],["class","no-data",4,"ngIf"],["class","",4,"ngIf"],[1,"row"],[1,"col"],["aria-label","breadcrumb",1,"align-items-center"],[1,"back-button","cursor-pointer",3,"routerLink"],["width","7","height","12","viewBox","0 0 7 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.38247 10.9393L0.723485 6.37992C0.668185 6.32564 0.629107 6.26684 0.60625 6.20352C0.583024 6.14019 0.571411 6.07234 0.571411 5.99997C0.571411 5.9276 0.583024 5.85976 0.60625 5.79643C0.629107 5.73311 0.668185 5.6743 0.723485 5.62003L5.38247 1.04709C5.5115 0.920441 5.67279 0.857117 5.86634 0.857117C6.05989 0.857117 6.22579 0.924964 6.36404 1.06066C6.50229 1.19636 6.57141 1.35467 6.57141 1.53559C6.57141 1.71652 6.50229 1.87483 6.36404 2.01053L2.29952 5.99997L6.36404 9.98942C6.49307 10.1161 6.55759 10.272 6.55759 10.4573C6.55759 10.6429 6.48846 10.8036 6.35021 10.9393C6.21196 11.075 6.05067 11.1428 5.86634 11.1428C5.68201 11.1428 5.52072 11.075 5.38247 10.9393Z","fill","#3F3F3F"],[1,"breadcrumb"],[1,"breadcrumb-item"],[1,"link"],["aria-current","page",1,"breadcrumb-item","active"],[1,"flex","flex-row","published","ml-auto","border-0","align-items-center"],["disabled","","name","enablepublished",3,"ngModel","ngModelChange"],[1,"no-data"],[1,""],[1,"h1"],[1,"details-container","line"],["mat-tab-nav-bar","",1,"tab-view","details-tabs"],["mat-tab-link","",3,"active","click"],["mat-tab-link","",3,"active","click",4,"ngIf"],["class","bg-white",4,"ngIf"],[1,"bg-white"],["class","no-data flex-start",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"no-data","flex-start"],[3,"courseId"],[3,"courseDetails"]],template:function(t,o){1&t&&(e.YNc(0,fn,17,5,"div",0),e.YNc(1,_n,2,0,"p",1),e.YNc(2,Zn,22,12,"div",2)),2&t&&(e.Q6J("ngIf",o.courseDetails&&(null==o.courseDetails?null:o.courseDetails._id)),e.xp6(1),e.Q6J("ngIf",!(o.apiCallActive||null!=o.courseDetails&&o.courseDetails._id)),e.xp6(1),e.Q6J("ngIf",!o.apiCallActive&&o.courseDetails&&(null==o.courseDetails?null:o.courseDetails._id)))},dependencies:[v.yS,u.sg,u.O5,A.a8,A.dk,A.dn,A.n5,a.JJ,a.On,M.BU,M.Nj,N.Rr,Ct,Ft,Vt,gn,u.rS],styles:[".comment{display:grid;gap:14px}.comment .user-banner{display:flex;justify-content:space-between}.comment .user-banner .avatar{height:32px;width:32px;border-radius:50%;vertical-align:middle;display:flex;align-items:center;justify-content:center;margin-right:16px;line-height:20px;color:#fff;background-color:#539cc2}.comment .user-banner .avatar img{max-width:100%;border-radius:50%}.comment .user-banner .user{align-items:center;display:flex;width:100%;margin-bottom:8px;flex-wrap:wrap}.comment .user-banner .user span{font-size:14px;font-weight:400;overflow-wrap:break-word}.comment .user-banner .user .stat{display:flex;position:absolute;right:-2px;bottom:-2px;display:block;width:12px;height:12px;z-index:9;border:2px solid #ffffff;border-radius:100px}.comment .user-banner .user .stat.green{background:#00ba34}.comment .user-banner .user .stat.grey{background:#969696}.comment .user-banner .content{font-size:14px;font-weight:400;overflow-wrap:break-word;flex-basis:100%}.comment .footer{gap:12px;display:flex;align-items:center}.comment .footer .reactions{display:flex;align-items:center;gap:8px}.comment .footer .divider{height:12px;width:1px;background:#e8e8e8}.comment:not(.comment:first-child){padding-bottom:8px}.mat-card-header-text{margin:0!important}.mat-card-header .mat-card-title{font-size:24px}.mat-card{background-color:transparent;box-shadow:none!important}.detailed-container{color:#6d6d6d}.mat-tab-nav-bar.details-tabs{background-color:#fff}.mat-tab-nav-bar.details-tabs .mat-tab-link{padding:16px;min-width:-moz-fit-content;min-width:fit-content;font-weight:700;font-size:14px;color:#8f8f8f}.mat-tab-nav-bar.details-tabs .mat-tab-link.mat-tab-label-active{color:#00cd83!important}.mat-tab-header{margin-bottom:0!important}.mat-card{background-color:#f9f9f9;padding:16px 24px}.mat-ink-bar{display:none!important}.tab-view{margin:30px -48px 10px;padding:0 48px;border-top:1px solid rgba(0,0,0,.12);border-bottom:0}.tab-view+div{margin:0 -48px;padding:0 48px;border-top:1px solid rgba(0,0,0,.12)}\n"],encapsulation:2}),n})();var Sn=c(5718),Mn=c(4111);const An=[{path:"list/:type",component:Fe},{path:"details/:id",component:Tn},{path:"**",redirectTo:"list"}];let kn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[v.Bz.forChild(An),Re,u.ez,Sn.q,Mn.q,T._t]}),n})()}}]);
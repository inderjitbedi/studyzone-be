"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[722],{7722:(N,s,o)=>{o.r(s),o.d(s,{LoginModule:()=>J});var d=o(6895),g=o(4859),l=o(9549),e=o(4006),u=o(9938),f=o(7071),h=o(5e3),t=o(4650),v=o(3263),x=o(8606),c=o(9299),C=o(4507),S=o(2510),Z=o(9924),m=o(3546),L=o(4144);function y(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}function T(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Invalid email"),t.qZA())}function I(n,a){1&n&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}let M=(()=>{class n{constructor(r,i,p,Y,P,U,A){this.errorHandlingService=r,this.formBuilder=i,this.apiService=p,this.router=Y,this.authGuard=P,this.matcher=U,this.getSetService=A,this.loginForm=this.formBuilder.group({email:["",[e.kI.required,e.kI.pattern(h.c.emailValidator.pattern)]],password:["",e.kI.required]})}login(){this.loginForm.valid&&this.apiService.post(u.d.signin,this.loginForm.value).subscribe({next:r=>{console.log(r),localStorage.setItem("auth_token",r.token),localStorage.setItem("user",JSON.stringify(r.user)),this.router.navigate([f.g.Pages.USER_LIST])},error:r=>{this.errorHandlingService.handle(r)}})}ngOnInit(){}}return n.\u0275fac=function(r){return new(r||n)(t.Y36(v.r),t.Y36(e.qu),t.Y36(x.a),t.Y36(c.F0),t.Y36(C.a),t.Y36(S.d),t.Y36(Z.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:18,vars:6,consts:[[1,"mt-30"],[3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","Email","formControlName","email",3,"errorStateMatcher"],[4,"ngIf"],["type","password","matInput","","placeholder","Password","formControlName","password"],[1,"button"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(r,i){1&r&&(t.TgZ(0,"mat-card")(1,"mat-card-title"),t._uU(2,"Admin Login"),t.qZA(),t._UZ(3,"hr"),t.TgZ(4,"mat-card-content",0)(5,"form",1),t.NdJ("ngSubmit",function(){return i.login()}),t.TgZ(6,"p")(7,"mat-form-field"),t._UZ(8,"input",2),t.YNc(9,y,2,0,"mat-error",3),t.YNc(10,T,2,0,"mat-error",3),t.qZA()(),t.TgZ(11,"p")(12,"mat-form-field"),t._UZ(13,"input",4),t.YNc(14,I,2,0,"mat-error",3),t.qZA()(),t.TgZ(15,"div",5)(16,"button",6),t._uU(17,"Login"),t.qZA()()()()()),2&r&&(t.xp6(5),t.Q6J("formGroup",i.loginForm),t.xp6(3),t.Q6J("errorStateMatcher",i.matcher),t.xp6(1),t.Q6J("ngIf",i.loginForm.controls.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.loginForm.controls.email.hasError("pattern")),t.xp6(4),t.Q6J("ngIf",i.loginForm.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",i.loginForm.invalid))},dependencies:[d.O5,g.lW,m.a8,m.dn,m.n5,l.TO,l.KE,L.Nt,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.mat-form-field[_ngcontent-%COMP%]{width:100%;min-width:300px}mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.mat-card[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;padding:20px}.mat-card-title[_ngcontent-%COMP%]{margin-bottom:20px}"]}),n})();var O=o(8427);const F=[{path:"**",component:M}];let J=(()=>{class n{}return n.\u0275fac=function(r){return new(r||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(F),d.ez,g.ot,O.q,l.lN,e.u5,e.UX]}),n})()}}]);
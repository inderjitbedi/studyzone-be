"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[571],{8571:(G,d,r)=>{r.r(d),r.d(d,{ProgressModule:()=>H});var l=r(6895),i=r(7155),g=r(9938),e=r(4650),_=r(8606),C=r(7368),f=r(3263),h=r(5412),a=r(9299),v=r(4850),m=r(3848);function y(t,n){if(1&t){const s=e.EpF();e.TgZ(0,"a",8),e.NdJ("click",function(){const c=e.CHM(s).$implicit,u=e.oxw();return e.KtG(u.updateUrl(c))}),e._uU(1),e.qZA()}if(2&t){const s=n.$implicit,o=e.oxw();e.Q6J("active",o.currentUrl.indexOf(s.link)>-1),e.xp6(1),e.hij("",s.label," ")}}function U(t,n){1&t&&(e.TgZ(0,"p",9),e._uU(1," There is no course created yet!\n"),e.qZA())}function P(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1,"#"),e.qZA())}function x(t,n){if(1&t&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&t){const s=n.index;e.xp6(1),e.hij(" ",s+1," ")}}function Z(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1," Course Name "),e.qZA())}function T(t,n){if(1&t&&(e.TgZ(0,"td",24),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&t){const s=n.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,null==s?null:s.course.name)," ")}}function B(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1," User's Name "),e.qZA())}function A(t,n){if(1&t&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&t){const s=n.$implicit;e.xp6(1),e.hij(" ",(null==s?null:s.user.fullName)||"-"," ")}}function Y(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1," User's Email "),e.qZA())}function N(t,n){if(1&t&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&t){const s=n.$implicit;e.xp6(1),e.hij(" ",null==s?null:s.user.email," ")}}function b(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1," Enrolled On "),e.qZA())}function M(t,n){if(1&t&&(e.TgZ(0,"td",24),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const s=n.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,null==s?null:s.enrollment.enrolledOn,"dd MMM yyyy hh:mm a")," ")}}function O(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1," Progress "),e.qZA())}function S(t,n){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&t){const s=e.oxw().$implicit;e.xp6(1),e.hij("",s.progress,"% Slides Completed")}}function D(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"Not started yet"),e.qZA())}function Q(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"All Slides Completed"),e.qZA())}function k(t,n){if(1&t&&(e.TgZ(0,"td",24),e.YNc(1,S,2,1,"span",25),e.YNc(2,D,2,0,"span",25),e.YNc(3,Q,2,0,"span",25),e.qZA()),2&t){const s=n.$implicit;e.xp6(1),e.Q6J("ngIf",s.progress&&100!=s.progress),e.xp6(1),e.Q6J("ngIf",!s.progress),e.xp6(1),e.Q6J("ngIf",s.progress&&100==s.progress)}}function w(t,n){1&t&&(e.TgZ(0,"th",23),e._uU(1," Last Activity "),e.qZA())}function J(t,n){if(1&t&&(e.TgZ(0,"td",24),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const s=n.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,null==s||null==s.latestProgress?null:s.latestProgress.updatedAt,"dd MMM yyyy hh:mm a")||"-"," ")}}function j(t,n){1&t&&e._UZ(0,"tr",26)}function q(t,n){1&t&&e._UZ(0,"tr",27)}function I(t,n){if(1&t&&(e.TgZ(0,"div",10)(1,"table",11),e.ynx(2,12),e.YNc(3,P,2,0,"th",13),e.YNc(4,x,2,1,"td",14),e.BQk(),e.ynx(5,15),e.YNc(6,Z,2,0,"th",13),e.YNc(7,T,3,3,"td",14),e.BQk(),e.ynx(8,16),e.YNc(9,B,2,0,"th",13),e.YNc(10,A,2,1,"td",14),e.BQk(),e.ynx(11,17),e.YNc(12,Y,2,0,"th",13),e.YNc(13,N,2,1,"td",14),e.BQk(),e.ynx(14,18),e.YNc(15,b,2,0,"th",13),e.YNc(16,M,3,4,"td",14),e.BQk(),e.ynx(17,19),e.YNc(18,O,2,0,"th",13),e.YNc(19,k,4,3,"td",14),e.BQk(),e.ynx(20,20),e.YNc(21,w,2,0,"th",13),e.YNc(22,J,3,4,"td",14),e.BQk(),e.YNc(23,j,1,0,"tr",21),e.YNc(24,q,1,0,"tr",22),e.qZA()()),2&t){const s=e.oxw();e.xp6(1),e.Q6J("dataSource",s.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",s.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",s.displayedColumns)}}let R=(()=>{class t{constructor(s,o,p,c,u,L,z){this.apiService=s,this.dialog=o,this.errorHandlingService=p,this.alertService=c,this.activeRoute=u,this.router=L,this._location=z,this.apiCallActive=!0,this.currentUrl="",this.activeLinkIndex=-1,this.displayedColumns=["id","coursename","username","email","enrolledOn","progress","lastActivity"],this.activeRoute.params.subscribe({next:({type:E})=>{this.currentUrl=this.router.url,this.getProgress(E)}}),this.navLinks=[{label:"Public",link:"/dashboard/progress/course/public",index:0},{label:"Private",link:"/dashboard/progress/course/private",index:1},{label:"Paid",link:"/dashboard/progress/course/paid",index:2}]}updateUrl(s){this._location.go(s.link),this.currentUrl=s.link,this.getProgress(s.label.toLowerCase())}ngOnInit(){this.router.routeReuseStrategy.shouldReuseRoute=()=>!1}getProgress(s="public"){this.apiCallActive=!0,this.apiService.get(g.d.analytics.replace(":type",s)).subscribe({next:o=>{this.apiCallActive=!1,this.dataSource=new i.by(o.courses||[])},error:o=>{this.apiCallActive=!1,this.errorHandlingService.handle(o)}})}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(_.a),e.Y36(C.uw),e.Y36(f.r),e.Y36(h.c),e.Y36(a.gz),e.Y36(a.F0),e.Y36(l.Ye))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-user-progress-by-courses"]],decls:9,vars:3,consts:[[1,"title-group"],[1,"title"],[1,"mat-h1"],["fxFlex","1 0"],["mat-tab-nav-bar",""],["mat-tab-link","",3,"active","click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["class","container",4,"ngIf"],["mat-tab-link","",3,"active","click"],[1,"no-data"],[1,"container"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","coursename"],["matColumnDef","username"],["matColumnDef","email"],["matColumnDef","enrolledOn"],["matColumnDef","progress"],["matColumnDef","lastActivity"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-header-row",""],["mat-row",""]],template:function(s,o){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3," User Progress "),e.qZA()()(),e._UZ(4,"mat-divider",3),e.TgZ(5,"nav",4),e.YNc(6,y,2,2,"a",5),e.qZA(),e.YNc(7,U,2,0,"p",6),e.YNc(8,I,25,3,"div",7)),2&s&&(e.xp6(6),e.Q6J("ngForOf",o.navLinks),e.xp6(1),e.Q6J("ngIf",!o.apiCallActive&&(null==o.dataSource||null==o.dataSource.filteredData?null:o.dataSource.filteredData.length)<=0),e.xp6(1),e.Q6J("ngIf",!o.apiCallActive&&(null==o.dataSource||null==o.dataSource.filteredData?null:o.dataSource.filteredData.length)>0))},dependencies:[l.sg,l.O5,v.d,i.BZ,i.fO,i.as,i.w1,i.Dz,i.nj,i.ge,i.ev,i.XQ,i.Gk,m.BU,m.Nj,l.rS,l.uU],styles:["table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px;word-break:break-all}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:200px;align-content:flex-end}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   .mat-icon-button[_ngcontent-%COMP%]{width:25px}"]}),t})();var $=r(8427);const F=[{path:"course/:type",component:R},{path:"**",redirectTo:"user-progress/public"}];let H=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[l.ez,a.Bz.forChild(F),$.q]}),t})()}}]);